<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.280">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title> - IDFG Regional Projects</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/quarto-contrib/academicons-1.9.2/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/academicons-1.9.2/size.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="site_libs/mapboxer-binding-0.4.0/mapboxer.js"></script>
<link href="site_libs/mapbox-gl-1.11.0/mapbox-gl.css" rel="stylesheet">
<script src="site_libs/mapbox-gl-1.11.0/mapbox-gl.js"></script>


<link rel="stylesheet" href="styles.css">
<link rel="stylesheet" href="academicons.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title"><i class="fa-solid fa-house" aria-label="house"></i></span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./about.html">
 <span class="menu-text"><i class="fa-solid fa-file" aria-label="file"></i> CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./cameras.html">
 <span class="menu-text"><i class="fa-solid fa-camera" aria-label="camera"></i> Cameras</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./idfg.html" aria-current="page">
 <span class="menu-text"><i class="fa-solid fa-map-location-dot" aria-label="map-location-dot"></i> IDFG Regional Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./eclipseproj.html">
 <span class="menu-text"><i class="fa-solid fa-moon" aria-label="moon"></i> Eclipse Code</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./fsvmproj.html">
 <span class="menu-text"><i class="fa-solid fa-tree" aria-label="tree"></i> FSVM</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./migrations.html">
 <span class="menu-text"><i class="fa-solid fa-shuffle" aria-label="shuffle"></i> Migrations</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./seasonalranges.html">
 <span class="menu-text"><i class="fa-solid fa-paw" aria-label="paw"></i> Seasonal Ranges</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./thesis.html">
 <span class="menu-text"><i class="fa-solid fa-book" aria-label="book"></i> Thesis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./fieldexperience.html">
 <span class="menu-text"><i class="fa-solid fa-business-time" aria-label="business-time"></i> Field Experience</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./writingsamples.html">
 <span class="menu-text"><i class="fa-solid fa-pen" aria-label="pen"></i> Writing Samples</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#fa-building-flag-headquarters" id="toc-fa-building-flag-headquarters" class="nav-link active" data-scroll-target="#fa-building-flag-headquarters"><i class="fa-solid fa-building-flag" aria-label="building-flag"></i> Headquarters</a>
  <ul class="collapse">
  <li><a href="#fsvm-predictions-for-lodgepole-pine-distributions" id="toc-fsvm-predictions-for-lodgepole-pine-distributions" class="nav-link" data-scroll-target="#fsvm-predictions-for-lodgepole-pine-distributions">FSVM predictions for Lodgepole pine distributions</a></li>
  <li><a href="#r-functions-sql-data-download" id="toc-r-functions-sql-data-download" class="nav-link" data-scroll-target="#r-functions-sql-data-download">R Functions (SQL Data Download)</a></li>
  <li><a href="#northern-idaho-ground-squirrel-covariates" id="toc-northern-idaho-ground-squirrel-covariates" class="nav-link" data-scroll-target="#northern-idaho-ground-squirrel-covariates">Northern Idaho Ground Squirrel Covariates</a></li>
  <li><a href="#mtbs-fire-covariates" id="toc-mtbs-fire-covariates" class="nav-link" data-scroll-target="#mtbs-fire-covariates">MTBS Fire Covariates</a></li>
  </ul></li>
  <li><a href="#fa-building-shield-region-5" id="toc-fa-building-shield-region-5" class="nav-link" data-scroll-target="#fa-building-shield-region-5"><i class="fa-solid fa-building-shield" aria-label="building-shield"></i> Region 5</a>
  <ul class="collapse">
  <li><a href="#sterling-wma-spatially-balanced-random-sampling" id="toc-sterling-wma-spatially-balanced-random-sampling" class="nav-link" data-scroll-target="#sterling-wma-spatially-balanced-random-sampling">Sterling WMA Spatially Balanced Random Sampling</a></li>
  <li><a href="#blackfoot-reservoir-lowland-lake-survey-sites" id="toc-blackfoot-reservoir-lowland-lake-survey-sites" class="nav-link" data-scroll-target="#blackfoot-reservoir-lowland-lake-survey-sites">Blackfoot Reservoir Lowland Lake Survey Sites</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">IDFG Regional Projects</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="fa-building-flag-headquarters" class="level2">
<h2 class="anchored" data-anchor-id="fa-building-flag-headquarters"><i class="fa-solid fa-building-flag" aria-label="building-flag"></i> Headquarters</h2>
<p>While most of my projects for IDFG generally have a statewide-focus, I occasionally help with specific asks from bureau staff.</p>
<section id="fsvm-predictions-for-lodgepole-pine-distributions" class="level3">
<h3 class="anchored" data-anchor-id="fsvm-predictions-for-lodgepole-pine-distributions">FSVM predictions for Lodgepole pine distributions</h3>
<p>Using the fine scale vegetation model I developed, I was able to provide our staff ecologist with predictions for lodgepole pine to help guide their field sampling efforts. <embed src="_images/Lodgepole_FSVM_05222023.pdf" width="1000" height="800"></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><embed src="_images/Lodgepole_FSVM_06012023.pdf" width="1000" height="800"></p>
<p></p><figcaption class="figure-caption">Lodepole pine predicted probability of presence</figcaption><p></p>
</figure>
</div>
</section>
<section id="r-functions-sql-data-download" class="level3">
<h3 class="anchored" data-anchor-id="r-functions-sql-data-download">R Functions (SQL Data Download)</h3>
<p>To assist with my regular tasks accessing collar and capture data, I wrote R code to easily access those SQL databases.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Download Collar Locations from SQL Database (filtered by species)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>getSQLData_locs <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">sqltable =</span> <span class="st">"Collars_Locations_ALL"</span>, </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>                            species){</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  species <span class="ot">&lt;-</span> <span class="fu">match.arg</span>(species,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">c</span>(<span class="st">"Elk"</span>,<span class="st">"Mule Deer"</span>,<span class="st">"Pronghorn Antelope"</span>,<span class="st">"Moose"</span>,<span class="st">"Wolf"</span>,<span class="st">"Black Bear"</span>,<span class="st">"White-tailed Deer"</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"Mountain Goat"</span>,<span class="st">"Rocky Mountain Bighorn Sheep"</span>,<span class="st">"California Bighorn Sheep"</span>,<span class="st">"Mountain Lion"</span>),</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>                       <span class="at">several.ok =</span> T)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  con <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbConnect</span>(</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    odbc<span class="sc">::</span><span class="fu">odbc</span>(),</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">driver =</span> <span class="st">"SQL Server"</span>,</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">database =</span> <span class="st">"IFWIS_WildlifeReporting"</span>,</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">uid =</span> <span class="st">"CollarManager"</span>,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">pwd =</span> <span class="co">#REDACTED,</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">server =</span> <span class="co">#REDACTED,</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">port =</span> <span class="co">#REDACTED)</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  locdata <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbReadTable</span>(con,sqltable)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  DBI<span class="sc">::</span><span class="fu">dbDisconnect</span>(con)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  sel <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(locdata,Game <span class="sc">%in%</span> species)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rm</span>(con,sqltable,locdata)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(sel)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="do">## Download Necropsy data from SQL Database (filtered by species)</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="at">getSQLData_nec =</span> <span class="cf">function</span>(<span class="at">sqltable =</span> <span class="st">"SAMM_Necropsy"</span>, species) {</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  species <span class="ot">&lt;-</span> <span class="fu">match.arg</span>(species,</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">c</span>(<span class="st">"Elk"</span>,<span class="st">"Mule Deer"</span>,<span class="st">"Pronghorn Antelope"</span>,<span class="st">"Moose"</span>,<span class="st">"Wolf"</span>,<span class="st">"Black Bear"</span>,<span class="st">"White-tailed Deer"</span>,</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"Mountain Goat"</span>,<span class="st">"Rocky Mountain Bighorn Sheep"</span>,<span class="st">"California Bighorn Sheep"</span>,<span class="st">"Mountain Lion"</span>),</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>                       <span class="at">several.ok =</span> T)</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>  con <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbConnect</span>(</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    odbc<span class="sc">::</span><span class="fu">odbc</span>(),</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">driver =</span> <span class="st">"SQL Server"</span>,</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">database =</span> <span class="st">"IFWIS_WildlifeReporting"</span>,</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    <span class="at">uid =</span>  <span class="st">"ShinyUserInternal"</span>,</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>    <span class="at">pwd =</span> <span class="co">#REDACTED,</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">server =</span> <span class="co">#REDACTED,</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">port =</span> <span class="co">#REDACTED)</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>  <span class="at">columns =</span> <span class="fu">c</span>(<span class="st">"CaptureID"</span>,<span class="st">"Animal_ID"</span>,<span class="st">"GameID"</span>,<span class="st">"FateID"</span>,<span class="st">"FateDate"</span>,</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>              <span class="st">"CensorID"</span>,<span class="st">"CensorDate"</span>,<span class="st">"RadFreq"</span>,<span class="st">"Latitude"</span>,<span class="st">"Longitude"</span>,</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>              <span class="st">"Bnumber"</span>,<span class="st">"LastLoc"</span>,<span class="st">"FateDate_OG"</span>,<span class="st">"CensorDate_OG"</span>,<span class="st">"NecID"</span>,</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>              <span class="st">"BGMR"</span>,<span class="st">"BlueEarTag"</span>)</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>  <span class="at">queries =</span> <span class="fu">paste0</span>(<span class="st">"SELECT "</span>, </span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>                   columns, </span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>                   <span class="st">" from "</span>, sqltable)</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>  <span class="at">res =</span> <span class="fu">lapply</span>(queries, <span class="cf">function</span>(query) {</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>    res <span class="ot">=</span> DBI<span class="sc">::</span><span class="fu">dbGetQuery</span>(con, query)</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>    res</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">res =</span> dplyr<span class="sc">::</span><span class="fu">bind_cols</span>(res)</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>  lut_game <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbGetQuery</span>(con, <span class="st">"SELECT GAMEID, Game from GAME_PIC_GAME"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(Game <span class="sc">%in%</span> species) <span class="sc">%&gt;%</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(GAMEID) <span class="sc">%&gt;%</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unique</span>() <span class="sc">%&gt;%</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unlist</span>()</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>  lut_fate <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbGetQuery</span>(con, <span class="st">"SELECT FateID, FateDesc from SAMM_PIC_FateTypes"</span>)</span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>  sel <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(res,GameID <span class="sc">%in%</span> lut_game) <span class="sc">%&gt;%</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">left_join</span>(.,lut_fate,<span class="at">by=</span><span class="st">"FateID"</span>)</span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rm</span>(con,sqltable,res,queries,columns,lut_game,lut_fate)</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(sel)</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a><span class="do">## Download Capture data from SQL Database (filtered by species)</span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a><span class="at">getSQLData_cap =</span> <span class="cf">function</span>(<span class="at">sqltable =</span> <span class="st">"SAMM_Capture"</span>, species) {</span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(dplyr)</span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(dbplyr)</span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>  species <span class="ot">&lt;-</span> <span class="fu">match.arg</span>(species,</span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">c</span>(<span class="st">"Elk"</span>,<span class="st">"Mule Deer"</span>,<span class="st">"Pronghorn Antelope"</span>,<span class="st">"Moose"</span>,<span class="st">"Wolf"</span>,<span class="st">"Black Bear"</span>,<span class="st">"White-tailed Deer"</span>,</span>
<span id="cb1-76"><a href="#cb1-76" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"Mountain Goat"</span>,<span class="st">"Rocky Mountain Bighorn Sheep"</span>,<span class="st">"California Bighorn Sheep"</span>,<span class="st">"Mountain Lion"</span>),</span>
<span id="cb1-77"><a href="#cb1-77" aria-hidden="true" tabindex="-1"></a>                       <span class="at">several.ok =</span> T)</span>
<span id="cb1-78"><a href="#cb1-78" aria-hidden="true" tabindex="-1"></a>  con <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbConnect</span>(</span>
<span id="cb1-79"><a href="#cb1-79" aria-hidden="true" tabindex="-1"></a>    odbc<span class="sc">::</span><span class="fu">odbc</span>(),</span>
<span id="cb1-80"><a href="#cb1-80" aria-hidden="true" tabindex="-1"></a>    <span class="at">driver =</span> <span class="st">"SQL Server"</span>,</span>
<span id="cb1-81"><a href="#cb1-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">database =</span> <span class="st">"IFWIS_WildlifeReporting"</span>,</span>
<span id="cb1-82"><a href="#cb1-82" aria-hidden="true" tabindex="-1"></a>    <span class="at">uid =</span>  <span class="st">"ShinyUserInternal"</span>,</span>
<span id="cb1-83"><a href="#cb1-83" aria-hidden="true" tabindex="-1"></a>    <span class="at">pwd =</span> <span class="co">#REDACTED,</span></span>
<span id="cb1-84"><a href="#cb1-84" aria-hidden="true" tabindex="-1"></a>    <span class="at">server =</span> <span class="co">#REDACTED,</span></span>
<span id="cb1-85"><a href="#cb1-85" aria-hidden="true" tabindex="-1"></a>    <span class="at">port =</span> <span class="co">#REDACTED)</span></span>
<span id="cb1-86"><a href="#cb1-86" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-87"><a href="#cb1-87" aria-hidden="true" tabindex="-1"></a>  <span class="at">tab =</span> <span class="fu">tbl</span>(con,sqltable)</span>
<span id="cb1-88"><a href="#cb1-88" aria-hidden="true" tabindex="-1"></a>  <span class="at">columns =</span> <span class="fu">colnames</span>(tab)</span>
<span id="cb1-89"><a href="#cb1-89" aria-hidden="true" tabindex="-1"></a>  <span class="at">queries =</span> <span class="fu">paste0</span>(<span class="st">"SELECT "</span>, </span>
<span id="cb1-90"><a href="#cb1-90" aria-hidden="true" tabindex="-1"></a>                   columns, </span>
<span id="cb1-91"><a href="#cb1-91" aria-hidden="true" tabindex="-1"></a>                   <span class="st">" from "</span>, sqltable)</span>
<span id="cb1-92"><a href="#cb1-92" aria-hidden="true" tabindex="-1"></a>  <span class="at">res =</span> <span class="fu">lapply</span>(queries, <span class="cf">function</span>(query) {</span>
<span id="cb1-93"><a href="#cb1-93" aria-hidden="true" tabindex="-1"></a>    res <span class="ot">=</span> DBI<span class="sc">::</span><span class="fu">dbGetQuery</span>(con, query)</span>
<span id="cb1-94"><a href="#cb1-94" aria-hidden="true" tabindex="-1"></a>    res</span>
<span id="cb1-95"><a href="#cb1-95" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb1-96"><a href="#cb1-96" aria-hidden="true" tabindex="-1"></a>  <span class="at">res =</span> dplyr<span class="sc">::</span><span class="fu">bind_cols</span>(res)</span>
<span id="cb1-97"><a href="#cb1-97" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-98"><a href="#cb1-98" aria-hidden="true" tabindex="-1"></a>  lut <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbGetQuery</span>(con, <span class="st">"SELECT GAMEID, Game from GAME_PIC_GAME"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-99"><a href="#cb1-99" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(Game <span class="sc">%in%</span> species) <span class="sc">%&gt;%</span></span>
<span id="cb1-100"><a href="#cb1-100" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(GAMEID) <span class="sc">%&gt;%</span></span>
<span id="cb1-101"><a href="#cb1-101" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unique</span>() <span class="sc">%&gt;%</span></span>
<span id="cb1-102"><a href="#cb1-102" aria-hidden="true" tabindex="-1"></a>    <span class="fu">unlist</span>()</span>
<span id="cb1-103"><a href="#cb1-103" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-104"><a href="#cb1-104" aria-hidden="true" tabindex="-1"></a>  sel <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">filter</span>(res,GameID <span class="sc">%in%</span> lut)</span>
<span id="cb1-105"><a href="#cb1-105" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-106"><a href="#cb1-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rm</span>(con,sqltable,res,queries,columns,lut)</span>
<span id="cb1-107"><a href="#cb1-107" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-108"><a href="#cb1-108" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(sel)</span>
<span id="cb1-109"><a href="#cb1-109" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span>
<span id="cb1-110"><a href="#cb1-110" aria-hidden="true" tabindex="-1"></a><span class="co">#cap &lt;- getSQLData_cap(species = "Mule Deer")</span></span>
<span id="cb1-111"><a href="#cb1-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-112"><a href="#cb1-112" aria-hidden="true" tabindex="-1"></a><span class="do">## Download Vegetation field data from SQL Database </span></span>
<span id="cb1-113"><a href="#cb1-113" aria-hidden="true" tabindex="-1"></a>getSQLData_veg <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">sqltable =</span> <span class="st">"Veg_fsvm_understory_model_data"</span>){</span>
<span id="cb1-114"><a href="#cb1-114" aria-hidden="true" tabindex="-1"></a>  con <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbConnect</span>(</span>
<span id="cb1-115"><a href="#cb1-115" aria-hidden="true" tabindex="-1"></a>    odbc<span class="sc">::</span><span class="fu">odbc</span>(),</span>
<span id="cb1-116"><a href="#cb1-116" aria-hidden="true" tabindex="-1"></a>    <span class="at">driver =</span> <span class="st">"SQL Server"</span>,</span>
<span id="cb1-117"><a href="#cb1-117" aria-hidden="true" tabindex="-1"></a>    <span class="at">database =</span> <span class="st">"IFWIS_WildlifeReporting"</span>,</span>
<span id="cb1-118"><a href="#cb1-118" aria-hidden="true" tabindex="-1"></a>    <span class="at">uid =</span> <span class="st">"CollarManager"</span>,</span>
<span id="cb1-119"><a href="#cb1-119" aria-hidden="true" tabindex="-1"></a>    <span class="at">pwd =</span> <span class="co">#REDACTED,</span></span>
<span id="cb1-120"><a href="#cb1-120" aria-hidden="true" tabindex="-1"></a>    <span class="at">server =</span> <span class="co">#REDACTED,</span></span>
<span id="cb1-121"><a href="#cb1-121" aria-hidden="true" tabindex="-1"></a>    <span class="at">port =</span> <span class="co">#REDACTED)</span></span>
<span id="cb1-122"><a href="#cb1-122" aria-hidden="true" tabindex="-1"></a>  fielddata <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbReadTable</span>(con,sqltable)</span>
<span id="cb1-123"><a href="#cb1-123" aria-hidden="true" tabindex="-1"></a>  DBI<span class="sc">::</span><span class="fu">dbDisconnect</span>(con); <span class="fu">rm</span>(con,sqltable)</span>
<span id="cb1-124"><a href="#cb1-124" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(fielddata)</span>
<span id="cb1-125"><a href="#cb1-125" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="northern-idaho-ground-squirrel-covariates" class="level3">
<h3 class="anchored" data-anchor-id="northern-idaho-ground-squirrel-covariates">Northern Idaho Ground Squirrel Covariates</h3>
<p>My expertise with using R for GIS manipulations has been previously called upon to assist with covariate formatting for northern Idaho ground squirrel habitat modeling efforts.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">'B:/Seasonal Range Analysis/Mule Deer/Smokey-Boise/winter/RScripts/instaload_function.R'</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">instaload</span>(<span class="fu">c</span>(<span class="st">'sf'</span>,<span class="st">'terra'</span>,<span class="st">'exactextractr'</span>))</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Load Grid Shapefile</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>fp <span class="ot">&lt;-</span> <span class="st">"Q:/RegionMcc/Diane EM/NIDGS/Covariates/2022_GISLayers_for_covariates/grid 100m_entire range_edited 2018 for Tamarack S_2021 S3 Revision.shp"</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>grid_shp <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(fp)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># List Veg Class Rasters</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>hveg_list <span class="ot">&lt;-</span> <span class="fu">dir</span>(<span class="st">"B:/Seasonal Range Analysis/Mule Deer/Covariates/hveg"</span>,<span class="at">pattern =</span> <span class="st">"_2020.tif$"</span>,<span class="at">full.names =</span> T)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Load, Clamp, and Stack Rasters</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="do">## Function</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>load_clamp <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  r <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rast</span>(x) <span class="sc">%&gt;%</span> terra<span class="sc">::</span><span class="fu">clamp</span>(.,<span class="at">lower=</span><span class="dv">1</span>,<span class="at">values=</span>F)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(r)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>hveg_stack <span class="ot">&lt;-</span> <span class="fu">do.call</span>(load_clamp,<span class="fu">list</span>(hveg_list))</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="co"># ReProject grid shape (match raster stack)</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>grid_proj <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_transform</span>(grid_shp,terra<span class="sc">::</span><span class="fu">crs</span>(hveg_stack))</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract coverage areas</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>grid_extract <span class="ot">&lt;-</span> exactextractr<span class="sc">::</span><span class="fu">exact_extract</span>(hveg_stack,</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>                                             grid_proj,</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">coverage_area =</span> T,</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">fun=</span><span class="st">"sum"</span>,</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">force_df =</span>T)</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename columns</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(grid_extract) <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"sum."</span>,<span class="st">""</span>,<span class="fu">colnames</span>(grid_extract))</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(grid_extract) <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="fu">colnames</span>(grid_extract),<span class="st">"_m2"</span>)</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Add to original</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>grid_final <span class="ot">&lt;-</span> <span class="fu">cbind</span>(grid_shp,grid_extract)</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Load Canopy Cover Raster</span></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>cancov <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rast</span>(<span class="st">"C:/Users/rritson/Documents/Projects/forErin/treecc30.tif"</span>)</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a><span class="co"># ReProject grid shape (match raster)</span></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>grid_proj <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_transform</span>(grid_shp,terra<span class="sc">::</span><span class="fu">crs</span>(cancov))</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract coverage areas</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>grid_extract <span class="ot">&lt;-</span> exactextractr<span class="sc">::</span><span class="fu">exact_extract</span>(cancov,</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>                                             grid_proj,</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">coverage_area =</span> T,</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">fun=</span><span class="st">"mean"</span>,</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">force_df =</span>T)</span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename column</span></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(grid_extract) <span class="ot">&lt;-</span> <span class="st">"NLCD_mean"</span></span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Add to original</span></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>grid_final <span class="ot">&lt;-</span> <span class="fu">cbind</span>(grid_final,grid_extract)</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a><span class="co">#Save New Grid Shape</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_write</span>(grid_final,<span class="at">dsn =</span> <span class="st">"Q:/RegionMcc/Diane EM/NIDGS/Covariates/2022_GISLayers_for_covariates/grid 100m_entire range_edited 2018 for Tamarack S_2021 S3 Revision_covs.shp"</span>)</span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a><span class="co">#clean-up </span></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>terra<span class="sc">::</span><span class="fu">tmpFiles</span>(<span class="at">remove =</span> T)</span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(cancov,hveg_list,hveg_stack,grid_shp,grid_proj,grid_extract,grid_final,fp,load_clamp,instaload)</span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a><span class="fu">gc</span>()</span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a><span class="do">###</span></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a><span class="co"># Load Grid</span></span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>grid_final <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(<span class="st">"Q:/RegionMcc/Diane EM/NIDGS/Covariates/2022_GISLayers_for_covariates/grid 100m_entire range_edited 2018 for Tamarack S_2021 S3 Revision_covs.shp"</span>)</span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a><span class="co"># Load remaining covariates</span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a><span class="do">## Soil Bulk Density</span></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>bulkdens <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rast</span>(<span class="st">"Q:/RegionMcc/Diane EM/NIDGS/Covariates/EnvironmentalData/Soils/POLARIS/bulkdens"</span>)</span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a><span class="co"># ReProject grid shape (match raster)</span></span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a>grid_proj <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_transform</span>(grid_final,terra<span class="sc">::</span><span class="fu">crs</span>(bulkdens))</span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract coverage areas</span></span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>grid_extract <span class="ot">&lt;-</span> exactextractr<span class="sc">::</span><span class="fu">exact_extract</span>(bulkdens,</span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a>                                             grid_proj,</span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">coverage_area =</span> T,</span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">fun=</span><span class="st">"mean"</span>,</span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">force_df =</span>T)</span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename column</span></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(grid_extract) <span class="ot">&lt;-</span> <span class="st">"BulkDensity_mean"</span></span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a><span class="co"># Add to original</span></span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>grid_final <span class="ot">&lt;-</span> <span class="fu">cbind</span>(grid_final,grid_extract)</span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a><span class="do">## Percent Silt</span></span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>siltperc <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rast</span>(<span class="st">"Q:/RegionMcc/Diane EM/NIDGS/Covariates/EnvironmentalData/Soils/POLARIS/siltperc"</span>)</span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a><span class="co"># ReProject grid shape (match raster)</span></span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a>grid_proj <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_transform</span>(grid_final,terra<span class="sc">::</span><span class="fu">crs</span>(siltperc))</span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract coverage areas</span></span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a>grid_extract <span class="ot">&lt;-</span> exactextractr<span class="sc">::</span><span class="fu">exact_extract</span>(siltperc,</span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a>                                             grid_proj,</span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">coverage_area =</span> T,</span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">fun=</span><span class="st">"mean"</span>,</span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">force_df =</span>T)</span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename column</span></span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(grid_extract) <span class="ot">&lt;-</span> <span class="st">"PercSilt_mean"</span></span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a><span class="co"># Add to original</span></span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a>grid_final <span class="ot">&lt;-</span> <span class="fu">cbind</span>(grid_final,grid_extract)</span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a><span class="do">## Soil Depth</span></span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>resdep <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rast</span>(<span class="st">"Q:/RegionMcc/Diane EM/NIDGS/Covariates/EnvironmentalData/Soils/POLARIS/resdep"</span>)</span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a><span class="co"># ReProject grid shape (match raster)</span></span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a>grid_proj <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_transform</span>(grid_final,terra<span class="sc">::</span><span class="fu">crs</span>(resdep))</span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract coverage areas</span></span>
<span id="cb2-111"><a href="#cb2-111" aria-hidden="true" tabindex="-1"></a>grid_extract <span class="ot">&lt;-</span> exactextractr<span class="sc">::</span><span class="fu">exact_extract</span>(resdep,</span>
<span id="cb2-112"><a href="#cb2-112" aria-hidden="true" tabindex="-1"></a>                                             grid_proj,</span>
<span id="cb2-113"><a href="#cb2-113" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">coverage_area =</span> T,</span>
<span id="cb2-114"><a href="#cb2-114" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">fun=</span><span class="st">"mean"</span>,</span>
<span id="cb2-115"><a href="#cb2-115" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">force_df =</span>T)</span>
<span id="cb2-116"><a href="#cb2-116" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename column</span></span>
<span id="cb2-117"><a href="#cb2-117" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(grid_extract) <span class="ot">&lt;-</span> <span class="st">"SoilDepth_mean"</span></span>
<span id="cb2-118"><a href="#cb2-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-119"><a href="#cb2-119" aria-hidden="true" tabindex="-1"></a><span class="co"># Add to original</span></span>
<span id="cb2-120"><a href="#cb2-120" aria-hidden="true" tabindex="-1"></a>grid_final <span class="ot">&lt;-</span> <span class="fu">cbind</span>(grid_final,grid_extract)</span>
<span id="cb2-121"><a href="#cb2-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-122"><a href="#cb2-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-123"><a href="#cb2-123" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages('spatialEco')</span></span>
<span id="cb2-124"><a href="#cb2-124" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(spatialEco)</span>
<span id="cb2-125"><a href="#cb2-125" aria-hidden="true" tabindex="-1"></a>dem <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rast</span>(<span class="st">"C:/Users/rritson/Documents/Projects/forErin/DEM10M_1.tif"</span>)</span>
<span id="cb2-126"><a href="#cb2-126" aria-hidden="true" tabindex="-1"></a><span class="do">## CLIP IS TOO SMALL!!!!!</span></span>
<span id="cb2-127"><a href="#cb2-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-128"><a href="#cb2-128" aria-hidden="true" tabindex="-1"></a><span class="do">## Aspect</span></span>
<span id="cb2-129"><a href="#cb2-129" aria-hidden="true" tabindex="-1"></a>asp <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">terrain</span>(dem,<span class="st">"aspect"</span>)</span>
<span id="cb2-130"><a href="#cb2-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-131"><a href="#cb2-131" aria-hidden="true" tabindex="-1"></a><span class="co"># ReProject grid shape (match raster)</span></span>
<span id="cb2-132"><a href="#cb2-132" aria-hidden="true" tabindex="-1"></a>grid_proj <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_transform</span>(grid_final,terra<span class="sc">::</span><span class="fu">crs</span>(asp))</span>
<span id="cb2-133"><a href="#cb2-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-134"><a href="#cb2-134" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract coverage areas</span></span>
<span id="cb2-135"><a href="#cb2-135" aria-hidden="true" tabindex="-1"></a>grid_extract <span class="ot">&lt;-</span> exactextractr<span class="sc">::</span><span class="fu">exact_extract</span>(asp,</span>
<span id="cb2-136"><a href="#cb2-136" aria-hidden="true" tabindex="-1"></a>                                             grid_proj,</span>
<span id="cb2-137"><a href="#cb2-137" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">coverage_area =</span> T,</span>
<span id="cb2-138"><a href="#cb2-138" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">fun=</span><span class="st">'mean'</span>,</span>
<span id="cb2-139"><a href="#cb2-139" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">force_df =</span>T)</span>
<span id="cb2-140"><a href="#cb2-140" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename column</span></span>
<span id="cb2-141"><a href="#cb2-141" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(grid_extract) <span class="ot">&lt;-</span> <span class="st">"Aspect_mean"</span></span>
<span id="cb2-142"><a href="#cb2-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-143"><a href="#cb2-143" aria-hidden="true" tabindex="-1"></a><span class="co"># Add to original</span></span>
<span id="cb2-144"><a href="#cb2-144" aria-hidden="true" tabindex="-1"></a>grid_final <span class="ot">&lt;-</span> <span class="fu">cbind</span>(grid_final,grid_extract)</span>
<span id="cb2-145"><a href="#cb2-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-146"><a href="#cb2-146" aria-hidden="true" tabindex="-1"></a><span class="do">## Heat Load Index</span></span>
<span id="cb2-147"><a href="#cb2-147" aria-hidden="true" tabindex="-1"></a>hli <span class="ot">&lt;-</span> spatialEco<span class="sc">::</span><span class="fu">hli</span>(dem)</span>
<span id="cb2-148"><a href="#cb2-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-149"><a href="#cb2-149" aria-hidden="true" tabindex="-1"></a><span class="co"># ReProject grid shape (match raster)</span></span>
<span id="cb2-150"><a href="#cb2-150" aria-hidden="true" tabindex="-1"></a>grid_proj <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_transform</span>(grid_final,terra<span class="sc">::</span><span class="fu">crs</span>(hli))</span>
<span id="cb2-151"><a href="#cb2-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-152"><a href="#cb2-152" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract coverage areas</span></span>
<span id="cb2-153"><a href="#cb2-153" aria-hidden="true" tabindex="-1"></a>grid_extract <span class="ot">&lt;-</span> exactextractr<span class="sc">::</span><span class="fu">exact_extract</span>(hli,</span>
<span id="cb2-154"><a href="#cb2-154" aria-hidden="true" tabindex="-1"></a>                                             grid_proj,</span>
<span id="cb2-155"><a href="#cb2-155" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">coverage_area =</span> T,</span>
<span id="cb2-156"><a href="#cb2-156" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">fun=</span><span class="st">'mean'</span>,</span>
<span id="cb2-157"><a href="#cb2-157" aria-hidden="true" tabindex="-1"></a>                                             <span class="at">force_df =</span>T)</span>
<span id="cb2-158"><a href="#cb2-158" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename column</span></span>
<span id="cb2-159"><a href="#cb2-159" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(grid_extract) <span class="ot">&lt;-</span> <span class="st">"HEAT_mean"</span></span>
<span id="cb2-160"><a href="#cb2-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-161"><a href="#cb2-161" aria-hidden="true" tabindex="-1"></a><span class="co"># Add to original</span></span>
<span id="cb2-162"><a href="#cb2-162" aria-hidden="true" tabindex="-1"></a>grid_final <span class="ot">&lt;-</span> <span class="fu">cbind</span>(grid_final,grid_extract)</span>
<span id="cb2-163"><a href="#cb2-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-164"><a href="#cb2-164" aria-hidden="true" tabindex="-1"></a>grid_final<span class="sc">$</span>AspectClass <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(<span class="dv">23</span> <span class="sc">&lt;=</span> grid_final<span class="sc">$</span>Aspect_mean <span class="sc">&amp;</span> grid_final<span class="sc">$</span>Aspect_mean <span class="sc">&lt;=</span> <span class="dv">68</span>,<span class="st">"Northeast"</span>,</span>
<span id="cb2-165"><a href="#cb2-165" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">ifelse</span>(<span class="dv">69</span> <span class="sc">&lt;=</span> grid_final<span class="sc">$</span>Aspect_mean  <span class="sc">&amp;</span> grid_final<span class="sc">$</span>Aspect_mean<span class="sc">&lt;=</span> <span class="dv">112</span>,<span class="st">"East"</span>,</span>
<span id="cb2-166"><a href="#cb2-166" aria-hidden="true" tabindex="-1"></a>                                        <span class="fu">ifelse</span>(<span class="dv">113</span> <span class="sc">&lt;=</span> grid_final<span class="sc">$</span>Aspect_mean <span class="sc">&amp;</span> grid_final<span class="sc">$</span>Aspect_mean <span class="sc">&lt;=</span> <span class="dv">158</span>,<span class="st">"Southeast"</span>,</span>
<span id="cb2-167"><a href="#cb2-167" aria-hidden="true" tabindex="-1"></a>                                               <span class="fu">ifelse</span>(<span class="dv">159</span> <span class="sc">&lt;=</span> grid_final<span class="sc">$</span>Aspect_mean <span class="sc">&amp;</span> grid_final<span class="sc">$</span>Aspect_mean <span class="sc">&lt;=</span> <span class="dv">202</span>,<span class="st">"South"</span>,</span>
<span id="cb2-168"><a href="#cb2-168" aria-hidden="true" tabindex="-1"></a>                                                      <span class="fu">ifelse</span>(<span class="dv">203</span> <span class="sc">&lt;=</span> grid_final<span class="sc">$</span>Aspect_mean <span class="sc">&amp;</span> grid_final<span class="sc">$</span>Aspect_mean <span class="sc">&lt;=</span> <span class="dv">248</span>,<span class="st">"Southwest"</span>,</span>
<span id="cb2-169"><a href="#cb2-169" aria-hidden="true" tabindex="-1"></a>                                                             <span class="fu">ifelse</span>(<span class="dv">249</span> <span class="sc">&lt;=</span> grid_final<span class="sc">$</span>Aspect_mean <span class="sc">&amp;</span> grid_final<span class="sc">$</span>Aspect_mean <span class="sc">&lt;=</span> <span class="dv">292</span>,<span class="st">"West"</span>,</span>
<span id="cb2-170"><a href="#cb2-170" aria-hidden="true" tabindex="-1"></a>                                                                    <span class="fu">ifelse</span>(<span class="dv">293</span> <span class="sc">&lt;=</span> grid_final<span class="sc">$</span>Aspect_mean <span class="sc">&amp;</span> grid_final<span class="sc">$</span>Aspect_mean <span class="sc">&lt;=</span> <span class="dv">338</span>,<span class="st">"Northwest"</span>,<span class="st">"North"</span>)))))))</span>
<span id="cb2-171"><a href="#cb2-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-172"><a href="#cb2-172" aria-hidden="true" tabindex="-1"></a><span class="co">#Save New Grid Shape</span></span>
<span id="cb2-173"><a href="#cb2-173" aria-hidden="true" tabindex="-1"></a>sf<span class="sc">::</span><span class="fu">st_write</span>(grid_final,<span class="at">dsn =</span> <span class="st">"Q:/RegionMcc/Diane EM/NIDGS/Covariates/2022_GISLayers_for_covariates/grid 100m_entire range_edited 2018 for Tamarack S_2021 S3 Revision_covs2.shp"</span>)</span>
<span id="cb2-174"><a href="#cb2-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-175"><a href="#cb2-175" aria-hidden="true" tabindex="-1"></a><span class="co">#clean-up </span></span>
<span id="cb2-176"><a href="#cb2-176" aria-hidden="true" tabindex="-1"></a>terra<span class="sc">::</span><span class="fu">tmpFiles</span>(<span class="at">remove =</span> T)</span>
<span id="cb2-177"><a href="#cb2-177" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(grid_proj,grid_extract,grid_final,asp,dem,resdep,siltperc,bulkdens,hli)</span>
<span id="cb2-178"><a href="#cb2-178" aria-hidden="true" tabindex="-1"></a><span class="fu">gc</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="mtbs-fire-covariates" class="level3">
<h3 class="anchored" data-anchor-id="mtbs-fire-covariates">MTBS Fire Covariates</h3>
<p>Recently, I developed code for manipulating fire data from MTBS into covariate rasters relevant to the FSVM and ungulate seasonal range modeling efforts.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(sf)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(terra)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(foreign)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(dplyr)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(stringr)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(lubridate)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="do">### Set-up ------------------------------------------</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="do">## significant digits (7 digit coordinate + 10 digits after decimal (for nanometers) = 17 significant digits)</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">options</span>()<span class="sc">$</span>digits <span class="sc">!=</span> <span class="dv">17</span>){</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">17</span>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 'terra' options</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co">#'INT2S'</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>terra<span class="sc">::</span><span class="fu">terraOptions</span>(<span class="at">datatype =</span> <span class="st">'INT2S'</span>) <span class="co"># same data type Brendan used, default in 'terra' is 'FLT4S'</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>terra<span class="sc">::</span><span class="fu">terraOptions</span>(<span class="at">tolerance =</span> <span class="fl">1e-10</span>)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>terra<span class="sc">::</span><span class="fu">terraOptions</span>()</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="do">## proj4strings</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="co">#WGS84 Longitude and Latitude</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>lonlat <span class="ot">=</span> <span class="st">"+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="co">#Idaho Transverse Mercator</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="co">#idtm = "+proj=tmerc +lat_0=42 +lon_0=-114 +k=0.9996 +x_0=2500000 +y_0=1200000 +datum=NAD83 +units=m +no_defs +ellps=GRS80 +towgs84=0,0,0"</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>idtm <span class="ot">&lt;-</span> <span class="st">"epsg:8826"</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="co">#Load base grid</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>base <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rast</span>(<span class="st">'B:/Covariates/base_grid/idaho_buffer_100km_30m.tif'</span>)</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>terra<span class="sc">::</span><span class="fu">res</span>(base)</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>terra<span class="sc">::</span><span class="fu">crs</span>(base)</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>base <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">project</span>(base, idtm)</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a><span class="co">#Load Idaho state boundary</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>idaho <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(<span class="st">"B:/GIS_ReferenceLayers/ID_StateBoundary/IDTM"</span>, <span class="st">"IdahoBoundary_IDTM"</span>)  <span class="sc">%&gt;%</span> </span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">vect</span>(.) <span class="sc">%&gt;%</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">project</span>(.,base) <span class="co">#ensure projections match</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>terra<span class="sc">::</span><span class="fu">plot</span>(terra<span class="sc">::</span><span class="fu">ext</span>(base))</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>terra<span class="sc">::</span><span class="fu">plot</span>(idaho, <span class="at">add =</span> T)</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a><span class="co">#Create bounding box from base grid</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>bbox <span class="ot">&lt;-</span> base <span class="sc">%&gt;%</span> </span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_bbox</span>(.,<span class="at">crs =</span> sf<span class="sc">::</span><span class="fu">st_crs</span>(base)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_as_sfc</span>(.) <span class="sc">%&gt;%</span> </span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_as_sf</span>(.) <span class="sc">%&gt;%</span> </span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">PolyID =</span> <span class="st">"NDVI_30m_Idaho_100kmBuff"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">vect</span>(.)</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Load MTBS perimeter file</span></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a><span class="do">## Download at: https://mtbs.gov/direct-download; Burned Areas Boundaries Dataset</span></span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>fire <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_read</span>(<span class="st">"C:/Users/rritson/Documents/Covariates/Fire/MTBS_perimeter_shape/mtbs_perims_DD.shp"</span>,<span class="at">quiet=</span>T) <span class="sc">%&gt;%</span></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_transform</span>(.,idtm) <span class="sc">%&gt;%</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Event_ID,Incid_Name,Incid_Type,BurnBndAc,Ig_Date,Comment) <span class="sc">%&gt;%</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">rowwise</span>(.) <span class="sc">%&gt;%</span></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Year =</span> stringr<span class="sc">::</span><span class="fu">str_split_fixed</span>(Ig_Date,<span class="st">"-"</span>,<span class="dv">3</span>)[[<span class="dv">1</span>]],</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>                <span class="at">Month =</span> stringr<span class="sc">::</span><span class="fu">str_split_fixed</span>(Ig_Date,<span class="st">"-"</span>,<span class="dv">3</span>)[[<span class="dv">2</span>]],</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>                <span class="at">Day =</span> stringr<span class="sc">::</span><span class="fu">str_split_fixed</span>(Ig_Date,<span class="st">"-"</span>,<span class="dv">3</span>)[[<span class="dv">3</span>]]) <span class="sc">%&gt;%</span></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Event_ID,Incid_Name,Incid_Type,BurnBndAc,Year,Month,Day,Comment) <span class="sc">%&gt;%</span></span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">vect</span>(.) <span class="sc">%&gt;%</span></span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">crop</span>(.,bbox) <span class="sc">%&gt;%</span></span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>  sf<span class="sc">::</span><span class="fu">st_as_sf</span>(.) <span class="co">#Important for filtering!!!</span></span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Create Binary Burned Rasters</span></span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a><span class="do">## Filter by Year</span></span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>yrs <span class="ot">&lt;-</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2021</span></span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(yr <span class="cf">in</span> yrs){</span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"Calculating "</span>,yr,<span class="st">"..."</span>))</span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>  <span class="do">### since 1984</span></span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"All Years"</span>))</span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>  fire_yr <span class="ot">&lt;-</span> fire <span class="sc">%&gt;%</span></span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(Year <span class="sc">&lt;=</span> yr) <span class="sc">%&gt;%</span></span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Burned =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(Burned) <span class="sc">%&gt;%</span></span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a>    terra<span class="sc">::</span><span class="fu">vect</span>(.)</span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a>  fire_rast <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rasterize</span>(fire_yr,base,<span class="at">fun=</span><span class="st">"max"</span>,<span class="at">background=</span><span class="dv">0</span>,<span class="at">touches=</span>F,<span class="at">na.rm=</span>T,<span class="at">update=</span>F,<span class="at">by=</span><span class="cn">NULL</span>,<span class="at">cover=</span>F)</span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(fire_rast) <span class="ot">&lt;-</span> <span class="st">"Burned"</span></span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">writeRaster</span>(fire_rast,<span class="fu">paste0</span>(<span class="st">"E:/Seasonal_range_covars/fire/Burned_allyrs_"</span>,yr,<span class="st">".tif"</span>))</span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a>  <span class="do">### Last 10 yrs</span></span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Last Ten Years"</span>))</span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a>  fire_yr <span class="ot">&lt;-</span> fire <span class="sc">%&gt;%</span></span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(Year <span class="sc">&lt;=</span> yr <span class="sc">&amp;</span> Year <span class="sc">&gt;=</span> (yr<span class="dv">-10</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Burned =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(Burned) <span class="sc">%&gt;%</span></span>
<span id="cb3-83"><a href="#cb3-83" aria-hidden="true" tabindex="-1"></a>    terra<span class="sc">::</span><span class="fu">vect</span>(.)</span>
<span id="cb3-84"><a href="#cb3-84" aria-hidden="true" tabindex="-1"></a>  fire_rast <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rasterize</span>(fire_yr,base,<span class="at">fun=</span><span class="st">"max"</span>,<span class="at">background=</span><span class="dv">0</span>,<span class="at">touches=</span>F,<span class="at">na.rm=</span>T,<span class="at">update=</span>F,<span class="at">by=</span><span class="cn">NULL</span>,<span class="at">cover=</span>F)</span>
<span id="cb3-85"><a href="#cb3-85" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(fire_rast) <span class="ot">&lt;-</span> <span class="st">"Burned"</span></span>
<span id="cb3-86"><a href="#cb3-86" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">writeRaster</span>(fire_rast,<span class="fu">paste0</span>(<span class="st">"E:/Seasonal_range_covars/fire/Burned_last10_"</span>,yr,<span class="st">".tif"</span>))</span>
<span id="cb3-87"><a href="#cb3-87" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-88"><a href="#cb3-88" aria-hidden="true" tabindex="-1"></a>  <span class="do">### Only Year of</span></span>
<span id="cb3-89"><a href="#cb3-89" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Year of Only"</span>))</span>
<span id="cb3-90"><a href="#cb3-90" aria-hidden="true" tabindex="-1"></a>  fire_yr <span class="ot">&lt;-</span> fire <span class="sc">%&gt;%</span></span>
<span id="cb3-91"><a href="#cb3-91" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(Year <span class="sc">==</span> yr) <span class="sc">%&gt;%</span></span>
<span id="cb3-92"><a href="#cb3-92" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Burned =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-93"><a href="#cb3-93" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(Burned) <span class="sc">%&gt;%</span></span>
<span id="cb3-94"><a href="#cb3-94" aria-hidden="true" tabindex="-1"></a>    terra<span class="sc">::</span><span class="fu">vect</span>(.)</span>
<span id="cb3-95"><a href="#cb3-95" aria-hidden="true" tabindex="-1"></a>  fire_rast <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rasterize</span>(fire_yr,base,<span class="at">fun=</span><span class="st">"max"</span>,<span class="at">background=</span><span class="dv">0</span>,<span class="at">touches=</span>F,<span class="at">na.rm=</span>T,<span class="at">update=</span>F,<span class="at">by=</span><span class="cn">NULL</span>,<span class="at">cover=</span>F)</span>
<span id="cb3-96"><a href="#cb3-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(fire_rast) <span class="ot">&lt;-</span> <span class="st">"Burned"</span></span>
<span id="cb3-97"><a href="#cb3-97" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">writeRaster</span>(fire_rast,<span class="fu">paste0</span>(<span class="st">"E:/Seasonal_range_covars/fire/Burned_yrof_"</span>,yr,<span class="st">".tif"</span>))</span>
<span id="cb3-98"><a href="#cb3-98" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-99"><a href="#cb3-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-100"><a href="#cb3-100" aria-hidden="true" tabindex="-1"></a><span class="do">## Frequency of Fire (N unique)</span></span>
<span id="cb3-101"><a href="#cb3-101" aria-hidden="true" tabindex="-1"></a>yrs <span class="ot">&lt;-</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2021</span></span>
<span id="cb3-102"><a href="#cb3-102" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(yr <span class="cf">in</span> yrs){</span>
<span id="cb3-103"><a href="#cb3-103" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"Calculating "</span>,yr,<span class="st">"..."</span>))</span>
<span id="cb3-104"><a href="#cb3-104" aria-hidden="true" tabindex="-1"></a>  <span class="do">### since 1984</span></span>
<span id="cb3-105"><a href="#cb3-105" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"All Years"</span>))</span>
<span id="cb3-106"><a href="#cb3-106" aria-hidden="true" tabindex="-1"></a>  fire_yr <span class="ot">&lt;-</span> fire <span class="sc">%&gt;%</span></span>
<span id="cb3-107"><a href="#cb3-107" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(Year <span class="sc">&lt;=</span> yr) <span class="sc">%&gt;%</span></span>
<span id="cb3-108"><a href="#cb3-108" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Burned =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-109"><a href="#cb3-109" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(Burned) <span class="sc">%&gt;%</span></span>
<span id="cb3-110"><a href="#cb3-110" aria-hidden="true" tabindex="-1"></a>    terra<span class="sc">::</span><span class="fu">vect</span>(.)</span>
<span id="cb3-111"><a href="#cb3-111" aria-hidden="true" tabindex="-1"></a>  fire_rast <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rasterize</span>(fire_yr,base,<span class="at">fun=</span><span class="st">"sum"</span>,<span class="at">background=</span><span class="dv">0</span>,<span class="at">touches=</span>F,<span class="at">na.rm=</span>T,<span class="at">update=</span>F,<span class="at">by=</span><span class="cn">NULL</span>,<span class="at">cover=</span>F)</span>
<span id="cb3-112"><a href="#cb3-112" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(fire_rast) <span class="ot">&lt;-</span> <span class="st">"N_fires"</span></span>
<span id="cb3-113"><a href="#cb3-113" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">writeRaster</span>(fire_rast,<span class="fu">paste0</span>(<span class="st">"E:/Seasonal_range_covars/fire/FireFrequency_allyrs_"</span>,yr,<span class="st">".tif"</span>))</span>
<span id="cb3-114"><a href="#cb3-114" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-115"><a href="#cb3-115" aria-hidden="true" tabindex="-1"></a>  <span class="do">### Last 10 yrs</span></span>
<span id="cb3-116"><a href="#cb3-116" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Last Ten Years"</span>))</span>
<span id="cb3-117"><a href="#cb3-117" aria-hidden="true" tabindex="-1"></a>  fire_yr <span class="ot">&lt;-</span> fire <span class="sc">%&gt;%</span></span>
<span id="cb3-118"><a href="#cb3-118" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(Year <span class="sc">&lt;=</span> yr <span class="sc">&amp;</span> Year <span class="sc">&gt;=</span> (yr<span class="dv">-10</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-119"><a href="#cb3-119" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Burned =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-120"><a href="#cb3-120" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(Burned) <span class="sc">%&gt;%</span></span>
<span id="cb3-121"><a href="#cb3-121" aria-hidden="true" tabindex="-1"></a>    terra<span class="sc">::</span><span class="fu">vect</span>(.)</span>
<span id="cb3-122"><a href="#cb3-122" aria-hidden="true" tabindex="-1"></a>  fire_rast <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rasterize</span>(fire_yr,base,<span class="at">fun=</span><span class="st">"sum"</span>,<span class="at">background=</span><span class="dv">0</span>,<span class="at">touches=</span>F,<span class="at">na.rm=</span>T,<span class="at">update=</span>F,<span class="at">by=</span><span class="cn">NULL</span>,<span class="at">cover=</span>F)</span>
<span id="cb3-123"><a href="#cb3-123" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(fire_rast) <span class="ot">&lt;-</span> <span class="st">"N_fires"</span></span>
<span id="cb3-124"><a href="#cb3-124" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">writeRaster</span>(fire_rast,<span class="fu">paste0</span>(<span class="st">"E:/Seasonal_range_covars/fire/FireFrequency_last10_"</span>,yr,<span class="st">".tif"</span>))</span>
<span id="cb3-125"><a href="#cb3-125" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-126"><a href="#cb3-126" aria-hidden="true" tabindex="-1"></a>  <span class="do">### Only Year of</span></span>
<span id="cb3-127"><a href="#cb3-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Year of Only"</span>))</span>
<span id="cb3-128"><a href="#cb3-128" aria-hidden="true" tabindex="-1"></a>  fire_yr <span class="ot">&lt;-</span> fire <span class="sc">%&gt;%</span></span>
<span id="cb3-129"><a href="#cb3-129" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(Year <span class="sc">==</span> yr) <span class="sc">%&gt;%</span></span>
<span id="cb3-130"><a href="#cb3-130" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Burned =</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-131"><a href="#cb3-131" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(Burned) <span class="sc">%&gt;%</span></span>
<span id="cb3-132"><a href="#cb3-132" aria-hidden="true" tabindex="-1"></a>    terra<span class="sc">::</span><span class="fu">vect</span>(.)</span>
<span id="cb3-133"><a href="#cb3-133" aria-hidden="true" tabindex="-1"></a>  fire_rast <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rasterize</span>(fire_yr,base,<span class="at">fun=</span><span class="st">"sum"</span>,<span class="at">background=</span><span class="dv">0</span>,<span class="at">touches=</span>F,<span class="at">na.rm=</span>T,<span class="at">update=</span>F,<span class="at">by=</span><span class="cn">NULL</span>,<span class="at">cover=</span>F)</span>
<span id="cb3-134"><a href="#cb3-134" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(fire_rast) <span class="ot">&lt;-</span> <span class="st">"N_fires"</span></span>
<span id="cb3-135"><a href="#cb3-135" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">writeRaster</span>(fire_rast,<span class="fu">paste0</span>(<span class="st">"E:/Seasonal_range_covars/fire/FireFrequency_yrof_"</span>,yr,<span class="st">".tif"</span>))</span>
<span id="cb3-136"><a href="#cb3-136" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-137"><a href="#cb3-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-138"><a href="#cb3-138" aria-hidden="true" tabindex="-1"></a><span class="do">## Time since last fire (Year)</span></span>
<span id="cb3-139"><a href="#cb3-139" aria-hidden="true" tabindex="-1"></a>yrs <span class="ot">&lt;-</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2021</span></span>
<span id="cb3-140"><a href="#cb3-140" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(yr <span class="cf">in</span> yrs){</span>
<span id="cb3-141"><a href="#cb3-141" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"Calculating "</span>,yr,<span class="st">"..."</span>))</span>
<span id="cb3-142"><a href="#cb3-142" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-143"><a href="#cb3-143" aria-hidden="true" tabindex="-1"></a>  <span class="do">## since 1984</span></span>
<span id="cb3-144"><a href="#cb3-144" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"All Years"</span>))</span>
<span id="cb3-145"><a href="#cb3-145" aria-hidden="true" tabindex="-1"></a>  fire_yr <span class="ot">&lt;-</span> fire <span class="sc">%&gt;%</span></span>
<span id="cb3-146"><a href="#cb3-146" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(Year <span class="sc">&lt;=</span> yr) <span class="sc">%&gt;%</span></span>
<span id="cb3-147"><a href="#cb3-147" aria-hidden="true" tabindex="-1"></a>    <span class="co">#dplyr::rowwise(.) %&gt;%</span></span>
<span id="cb3-148"><a href="#cb3-148" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">TSF =</span> yr<span class="sc">-</span><span class="fu">as.numeric</span>(Year)) <span class="sc">%&gt;%</span></span>
<span id="cb3-149"><a href="#cb3-149" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(TSF,geometry) <span class="co">#%&gt;%</span></span>
<span id="cb3-150"><a href="#cb3-150" aria-hidden="true" tabindex="-1"></a>    <span class="co">#dplyr::ungroup(.) %&gt;%</span></span>
<span id="cb3-151"><a href="#cb3-151" aria-hidden="true" tabindex="-1"></a>    <span class="co">#terra::vect(.)</span></span>
<span id="cb3-152"><a href="#cb3-152" aria-hidden="true" tabindex="-1"></a>  fire_rast <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rasterize</span>(fire_yr,base,<span class="st">"TSF"</span>,<span class="at">fun=</span>min,<span class="at">background=</span><span class="sc">-</span><span class="dv">9999</span>,<span class="at">touches=</span>F,<span class="at">na.rm=</span>T,<span class="at">update=</span>F,<span class="at">by=</span><span class="cn">NULL</span>,<span class="at">cover=</span>F) <span class="co">#9999 never burned or not burned within defined period</span></span>
<span id="cb3-153"><a href="#cb3-153" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(fire_rast) <span class="ot">&lt;-</span> <span class="st">"TSF"</span> <span class="co">#time since last fire (years)</span></span>
<span id="cb3-154"><a href="#cb3-154" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">writeRaster</span>(fire_rast,<span class="fu">paste0</span>(<span class="st">"E:/Seasonal_range_covars/fire/YearSinceFire_allyrs_"</span>,yr,<span class="st">".tif"</span>))</span>
<span id="cb3-155"><a href="#cb3-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-156"><a href="#cb3-156" aria-hidden="true" tabindex="-1"></a>  <span class="do">## Last 10 years</span></span>
<span id="cb3-157"><a href="#cb3-157" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">"Last Ten Years"</span>)) </span>
<span id="cb3-158"><a href="#cb3-158" aria-hidden="true" tabindex="-1"></a>  fire_yr <span class="ot">&lt;-</span> fire <span class="sc">%&gt;%</span></span>
<span id="cb3-159"><a href="#cb3-159" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(Year <span class="sc">&lt;=</span> yr <span class="sc">&amp;</span> Year <span class="sc">&gt;=</span> (yr<span class="dv">-10</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-160"><a href="#cb3-160" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">rowwise</span>(.) <span class="sc">%&gt;%</span></span>
<span id="cb3-161"><a href="#cb3-161" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">TSF =</span> yr<span class="sc">-</span><span class="fu">as.numeric</span>(Year)) <span class="sc">%&gt;%</span></span>
<span id="cb3-162"><a href="#cb3-162" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(TSF) <span class="sc">%&gt;%</span></span>
<span id="cb3-163"><a href="#cb3-163" aria-hidden="true" tabindex="-1"></a>    terra<span class="sc">::</span><span class="fu">vect</span>(.)</span>
<span id="cb3-164"><a href="#cb3-164" aria-hidden="true" tabindex="-1"></a>  fire_rast <span class="ot">&lt;-</span> terra<span class="sc">::</span><span class="fu">rasterize</span>(fire_yr,base,<span class="st">"TSF"</span>,<span class="at">fun=</span>min,<span class="at">background=</span><span class="sc">-</span><span class="dv">9999</span>,<span class="at">touches=</span>F,<span class="at">na.rm=</span>T,<span class="at">update=</span>F,<span class="at">by=</span><span class="cn">NULL</span>,<span class="at">cover=</span>F) <span class="co">#9999 never burned or not burned within defined period</span></span>
<span id="cb3-165"><a href="#cb3-165" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(fire_rast) <span class="ot">&lt;-</span> <span class="st">"TSF"</span> <span class="co">#time since last fire (years)</span></span>
<span id="cb3-166"><a href="#cb3-166" aria-hidden="true" tabindex="-1"></a>  terra<span class="sc">::</span><span class="fu">writeRaster</span>(fire_rast,<span class="fu">paste0</span>(<span class="st">"E:/Seasonal_range_covars/fire/YearSinceFire_last10_"</span>,yr,<span class="st">".tif"</span>),<span class="at">overwrite=</span>T)</span>
<span id="cb3-167"><a href="#cb3-167" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="fa-building-shield-region-5" class="level2">
<h2 class="anchored" data-anchor-id="fa-building-shield-region-5"><i class="fa-solid fa-building-shield" aria-label="building-shield"></i> Region 5</h2>
<p>Being stationed in the regional office, I occasionally assist staff with GIS-related questions and tasks. I have also helped out with field tasks including mule deer drive nets, pronghorn surveys, and fisheries.</p>
<section id="sterling-wma-spatially-balanced-random-sampling" class="level3">
<h3 class="anchored" data-anchor-id="sterling-wma-spatially-balanced-random-sampling">Sterling WMA Spatially Balanced Random Sampling</h3>
<p>Generalized random tessellation stratified (GRTS) algorithm</p>
<div class="cell">
<div class="cell-output-display">
<div class="mapboxer html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-b05583534ebfecb8c5af" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-b05583534ebfecb8c5af">{"x":{"source":null,"calls":[{"methodName":"addControl","args":{"controlName":"NavigationControl","pos":"top-left","options":{"showCompass":true}}},{"methodName":"addControl","args":{"controlName":"ScaleControl","pos":"bottom-right","options":{"unit":"metric"}}},{"methodName":"addControl","args":{"controlName":"ScaleControl","pos":"bottom-right","options":{"unit":"imperial"}}},{"methodName":"addLayer","args":{"style":{"id":"circle-layer","type":"circle","source":{"type":"geojson","data":{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"siteID":"Site-01","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599533.0656856,"IDTM_Y":1310323.01086516,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.779123651256,42.987044713232]}},{"type":"Feature","properties":{"siteID":"Site-02","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599177.9642818,"IDTM_Y":1310117.99297409,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.783514778395,42.9852452935229]}},{"type":"Feature","properties":{"siteID":"Site-03","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599592.2492529,"IDTM_Y":1310835.55559284,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.778306465566,42.9916514375978]}},{"type":"Feature","properties":{"siteID":"Site-04","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599611.97710867,"IDTM_Y":1310664.70735028,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.778094993483,42.9901106987025]}},{"type":"Feature","properties":{"siteID":"Site-05","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599020.14143567,"IDTM_Y":1310254.67156814,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.785425928548,42.9864963781722]}},{"type":"Feature","properties":{"siteID":"Site-06","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599335.78712794,"IDTM_Y":1309912.97508302,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.781615857575,42.9833789137202]}},{"type":"Feature","properties":{"siteID":"Site-07","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2600085.44564706,"IDTM_Y":1311006.4038354,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.772227181148,42.9931248598674]}},{"type":"Feature","properties":{"siteID":"Site-08","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599750.07209903,"IDTM_Y":1310425.5198107,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.776444128193,42.9879391864092]}},{"type":"Feature","properties":{"siteID":"Site-09","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2598882.0464453,"IDTM_Y":1310015.48402855,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.787161760926,42.9843609107146]}},{"type":"Feature","properties":{"siteID":"Site-10","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599316.05927217,"IDTM_Y":1309605.4482464099,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.781912439215,42.9806128001302]}},{"type":"Feature","properties":{"siteID":"Site-11","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599848.71137787,"IDTM_Y":1310938.06453838,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.775142829125,42.992540710276]}},{"type":"Feature","properties":{"siteID":"Site-12","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599197.69213757,"IDTM_Y":1310630.53770177,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.783181827442,42.9898572008316]}},{"type":"Feature","properties":{"siteID":"Site-13","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599335.78712794,"IDTM_Y":1310254.67156814,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.781555095472,42.9864552326302]}},{"type":"Feature","properties":{"siteID":"Site-14","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599789.52781057,"IDTM_Y":1311108.91278094,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.775838146657,42.9940866304714]}},{"type":"Feature","properties":{"siteID":"Site-15","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2600006.534224,"IDTM_Y":1310733.04664731,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.773243945271,42.9906741942383]}},{"type":"Feature","properties":{"siteID":"Site-16","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599434.42640677,"IDTM_Y":1310425.5198107,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.780315047025,42.9879805059274]}},{"type":"Feature","properties":{"siteID":"Site-17","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599533.0656856,"IDTM_Y":1310049.65367707,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.779172359695,42.9845836607244]}},{"type":"Feature","properties":{"siteID":"Site-18","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599197.69213757,"IDTM_Y":1309810.46613748,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.783327463091,42.9824740324835]}},{"type":"Feature","properties":{"siteID":"Site-19","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599967.07851247,"IDTM_Y":1311143.08242945,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.773654424166,42.99437094702]}},{"type":"Feature","properties":{"siteID":"Site-20","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599828.9835221,"IDTM_Y":1310767.21629582,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.775415321819,42.9910051454935]}},{"type":"Feature","properties":{"siteID":"Site-21","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599059.5971472,"IDTM_Y":1310391.35016219,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.784917833979,42.9877217707566]}},{"type":"Feature","properties":{"siteID":"Site-22","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599434.42640677,"IDTM_Y":1309742.12684046,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.780436691802,42.9818278708628]}},{"type":"Feature","properties":{"siteID":"Site-23","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2600065.7177913,"IDTM_Y":1310835.55559284,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.772499749201,42.9915893031122]}},{"type":"Feature","properties":{"siteID":"Site-24","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599671.16067597,"IDTM_Y":1310562.19840475,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.777387465699,42.9891800534164]}},{"type":"Feature","properties":{"siteID":"Site-25","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2598921.50215684,"IDTM_Y":1310015.48402855,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.786677922782,42.9843557822198]}},{"type":"Feature","properties":{"siteID":"Site-26","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2598941.2300126,"IDTM_Y":1309981.31438004,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.786442055615,42.9840455847216]}},{"type":"Feature","properties":{"siteID":"Site-27","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599947.3506567,"IDTM_Y":1310698.8769988,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.773975888608,42.9903743415891]}},{"type":"Feature","properties":{"siteID":"Site-28","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599434.42640677,"IDTM_Y":1310767.21629582,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.78025421028,42.9910568208661]}},{"type":"Feature","properties":{"siteID":"Site-29","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599394.97069523,"IDTM_Y":1310083.82332558,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.780859715511,42.9849093444459]}},{"type":"Feature","properties":{"siteID":"Site-30","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599828.9835221,"IDTM_Y":1310903.89488987,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.77539088795,42.9922356687746]}},{"type":"Feature","properties":{"siteID":"Site-31","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2600006.534224,"IDTM_Y":1310459.68945921,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.773292894459,42.9882131487024]}},{"type":"Feature","properties":{"siteID":"Site-32","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599316.05927217,"IDTM_Y":1310425.5198107,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.781766643694,42.9879959670051]}},{"type":"Feature","properties":{"siteID":"Site-33","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599513.33782983,"IDTM_Y":1309947.14473153,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.779432539437,42.983663346043]}},{"type":"Feature","properties":{"siteID":"Site-34","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599316.05927217,"IDTM_Y":1309810.46613748,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.781875995496,42.9824585927825]}},{"type":"Feature","properties":{"siteID":"Site-35","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599986.80636823,"IDTM_Y":1311040.57348392,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.77343082355,42.9934454625922]}},{"type":"Feature","properties":{"siteID":"Site-36","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599730.34424327,"IDTM_Y":1310664.70735028,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.776643349037,42.9900951904527]}},{"type":"Feature","properties":{"siteID":"Site-37","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599039.86929144,"IDTM_Y":1310083.82332558,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.785214293055,42.9849556491085]}},{"type":"Feature","properties":{"siteID":"Site-38","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599493.60997407,"IDTM_Y":1309639.61789492,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.779729220507,42.9808972394688]}},{"type":"Feature","properties":{"siteID":"Site-39","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2600006.534224,"IDTM_Y":1310801.38594433,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.773231707011,42.9912894554493]}},{"type":"Feature","properties":{"siteID":"Site-40","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599533.0656856,"IDTM_Y":1310459.68945921,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.779099294738,42.9882752390708]}},{"type":"Feature","properties":{"siteID":"Site-41","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599217.41999334,"IDTM_Y":1310323.01086516,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.782994517823,42.9870859414497]}},{"type":"Feature","properties":{"siteID":"Site-42","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599513.33782983,"IDTM_Y":1311040.57348392,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.779237716679,42.9935075519763]}},{"type":"Feature","properties":{"siteID":"Site-43","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2600105.17350283,"IDTM_Y":1310767.21629582,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.772028107518,42.9909688510456]}},{"type":"Feature","properties":{"siteID":"Site-44","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599473.8821183,"IDTM_Y":1310630.53770177,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.779794666354,42.9898211369848]}},{"type":"Feature","properties":{"siteID":"Site-45","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599434.42640677,"IDTM_Y":1310083.82332558,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.780375874198,42.9849041892596]}},{"type":"Feature","properties":{"siteID":"Site-46","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599789.52781057,"IDTM_Y":1310835.55559284,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.775886998172,42.9916255840199]}},{"type":"Feature","properties":{"siteID":"Site-47","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599868.43923363,"IDTM_Y":1310425.5198107,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.774992535742,42.9879236578482]}},{"type":"Feature","properties":{"siteID":"Site-48","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599099.05285874,"IDTM_Y":1310596.36805326,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.784397592563,42.9895624245382]}},{"type":"Feature","properties":{"siteID":"Site-49","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599552.79354137,"IDTM_Y":1309742.12684046,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.778985240969,42.9818123946907]}},{"type":"Feature","properties":{"siteID":"Site-50","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599493.60997407,"IDTM_Y":1309981.31438004,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.779668369606,42.9839735575571]}},{"type":"Feature","properties":{"siteID":"Site-51","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599868.43923363,"IDTM_Y":1311108.91278094,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.774870321997,42.9940762738378]}},{"type":"Feature","properties":{"siteID":"Site-52","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599769.7999548,"IDTM_Y":1310596.36805326,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.776171676356,42.9894747549317]}},{"type":"Feature","properties":{"siteID":"Site-53","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599039.86929144,"IDTM_Y":1310152.1626226,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.785202176616,42.985570913681]}},{"type":"Feature","properties":{"siteID":"Site-54","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599217.41999334,"IDTM_Y":1309639.61789492,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.783115891612,42.9809332992895]}},{"type":"Feature","properties":{"siteID":"Site-55","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599967.07851247,"IDTM_Y":1310869.72524136,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.773703363297,42.9919099027012]}},{"type":"Feature","properties":{"siteID":"Site-56","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599414.698551,"IDTM_Y":1310801.38594433,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.780490072044,42.9913670306926]}},{"type":"Feature","properties":{"siteID":"Site-57","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599454.15426253,"IDTM_Y":1310391.35016219,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.780079198712,42.9876702957304]}},{"type":"Feature","properties":{"siteID":"Site-58","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599533.0656856,"IDTM_Y":1311143.08242945,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.778977489149,42.9944278641146]}},{"type":"Feature","properties":{"siteID":"Site-59","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2600006.534224,"IDTM_Y":1310596.36805326,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.773268420635,42.9894436716087]}},{"type":"Feature","properties":{"siteID":"Site-60","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599375.24283947,"IDTM_Y":1310459.68945921,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.78103476559,42.9882958704212]}},{"type":"Feature","properties":{"siteID":"Site-61","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599335.78712794,"IDTM_Y":1310186.33227111,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.781567248657,42.9858399689865]}},{"type":"Feature","properties":{"siteID":"Site-62","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599809.25566633,"IDTM_Y":1310801.38594433,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.775651158821,42.9913153649933]}},{"type":"Feature","properties":{"siteID":"Site-63","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599907.89494517,"IDTM_Y":1310425.5198107,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.774508671848,42.9879184775713]}},{"type":"Feature","properties":{"siteID":"Site-64","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599039.86929144,"IDTM_Y":1310425.5198107,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.785153707047,42.9880319712792]}},{"type":"Feature","properties":{"siteID":"Site-65","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599375.24283947,"IDTM_Y":1310391.35016219,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.781046924746,42.9876806070952]}},{"type":"Feature","properties":{"siteID":"Site-66","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599809.25566633,"IDTM_Y":1311006.4038354,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.775614514101,42.9931611498734]}},{"type":"Feature","properties":{"siteID":"Site-67","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2600105.17350283,"IDTM_Y":1310562.19840475,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.772064856745,42.9891230679336]}},{"type":"Feature","properties":{"siteID":"Site-68","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599296.3314164,"IDTM_Y":1310528.02875623,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.78199035189,42.9889214373038]}},{"type":"Feature","properties":{"siteID":"Site-69","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599197.69213757,"IDTM_Y":1310220.50191963,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.78325465214,42.9861656179022]}},{"type":"Feature","properties":{"siteID":"Site-70","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599592.2492529,"IDTM_Y":1311177.25207796,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.778245520835,42.9947277482539]}},{"type":"Feature","properties":{"siteID":"Site-71","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599986.80636823,"IDTM_Y":1310630.53770177,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.773504240945,42.9897538954087]}},{"type":"Feature","properties":{"siteID":"Site-72","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599493.60997407,"IDTM_Y":1310664.70735028,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.779546639079,42.9901261885464]}},{"type":"Feature","properties":{"siteID":"Site-73","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599020.14143567,"IDTM_Y":1310049.65367707,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.785462271203,42.9846505843939]}},{"type":"Feature","properties":{"siteID":"Site-74","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599434.42640677,"IDTM_Y":1309673.78754343,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.780448854175,42.9812126069759]}},{"type":"Feature","properties":{"siteID":"Site-75","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2600026.26207977,"IDTM_Y":1310903.89488987,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.772971400277,42.9922097532863]}},{"type":"Feature","properties":{"siteID":"Site-76","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599493.60997407,"IDTM_Y":1311006.4038354,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.779485759449,42.9932025014473]}},{"type":"Feature","properties":{"siteID":"Site-77","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2598960.95786837,"IDTM_Y":1310220.50191963,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.786157764386,42.9861964460562]}},{"type":"Feature","properties":{"siteID":"Site-78","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599355.5149837,"IDTM_Y":1309810.46613748,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.781392173219,42.9824534421264]}},{"type":"Feature","properties":{"siteID":"Site-79","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2600105.17350283,"IDTM_Y":1311177.25207796,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.771954598656,42.9946604154012]}},{"type":"Feature","properties":{"siteID":"Site-80","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599750.07209903,"IDTM_Y":1310493.85910772,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.77643192302,42.9885544486516]}},{"type":"Feature","properties":{"siteID":"Site-81","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599276.60356064,"IDTM_Y":1310152.1626226,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.782299094836,42.9855400616488]}},{"type":"Feature","properties":{"siteID":"Site-82","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599572.52139713,"IDTM_Y":1310801.38594433,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.778554505221,42.9913463889551]}},{"type":"Feature","properties":{"siteID":"Site-83","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599868.43923363,"IDTM_Y":1310562.19840475,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.77496809607,42.9891541815996]}},{"type":"Feature","properties":{"siteID":"Site-84","Name":"Harder Am Game Vanderford Grazing Area","IDTM_X":2599020.14143567,"IDTM_Y":1310528.02875623,"color":"purple"},"geometry":{"type":"Point","coordinates":[-112.785377466338,42.9889574355753]}},{"type":"Feature","properties":{"siteID":"Site-01","Name":"JohnsonWetland UnitControl","IDTM_X":2599504.98410735,"IDTM_Y":1308603.64561353,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.779774203135,42.971568809077]}},{"type":"Feature","properties":{"siteID":"Site-02","Name":"JohnsonWetland UnitControl","IDTM_X":2599306.85149325,"IDTM_Y":1309427.26742376,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.782057012925,42.9790098248398]}},{"type":"Feature","properties":{"siteID":"Site-03","Name":"JohnsonWetland UnitControl","IDTM_X":2599524.79736876,"IDTM_Y":1309118.40924492,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.77943962762,42.9762006795813]}},{"type":"Feature","properties":{"siteID":"Site-04","Name":"JohnsonWetland UnitControl","IDTM_X":2599881.43607414,"IDTM_Y":1308226.15228384,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.775226260754,42.9681209064574]}},{"type":"Feature","properties":{"siteID":"Site-05","Name":"JohnsonWetland UnitControl","IDTM_X":2598989.83931069,"IDTM_Y":1309358.63227291,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.785956293922,42.9784331964334]}},{"type":"Feature","properties":{"siteID":"Site-06","Name":"JohnsonWetland UnitControl","IDTM_X":2599425.73106171,"IDTM_Y":1309015.45651865,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.780672611514,42.9752867350738]}},{"type":"Feature","properties":{"siteID":"Site-07","Name":"JohnsonWetland UnitControl","IDTM_X":2599782.36976709,"IDTM_Y":1308603.64561353,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.776373390805,42.971532499947]}},{"type":"Feature","properties":{"siteID":"Site-08","Name":"JohnsonWetland UnitControl","IDTM_X":2599821.99628991,"IDTM_Y":1308397.74016098,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.775924328338,42.9696735218256]}},{"type":"Feature","properties":{"siteID":"Site-09","Name":"JohnsonWetland UnitControl","IDTM_X":2599187.97192479,"IDTM_Y":1309289.99712205,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.783539048458,42.977789470991]}},{"type":"Feature","properties":{"siteID":"Site-10","Name":"JohnsonWetland UnitControl","IDTM_X":2599485.17084594,"IDTM_Y":1309187.04439578,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.779913276738,42.9768237881223]}},{"type":"Feature","properties":{"siteID":"Site-11","Name":"JohnsonWetland UnitControl","IDTM_X":2599584.23715299,"IDTM_Y":1308809.55106609,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.778765858498,42.9734122295828]}},{"type":"Feature","properties":{"siteID":"Site-12","Name":"JohnsonWetland UnitControl","IDTM_X":2599604.0504144,"IDTM_Y":1308226.15228384,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.778626883679,42.9681572473705]}},{"type":"Feature","properties":{"siteID":"Site-13","Name":"JohnsonWetland UnitControl","IDTM_X":2599088.90561774,"IDTM_Y":1309392.94984833,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.784735494101,42.9787292688305]}},{"type":"Feature","properties":{"siteID":"Site-14","Name":"JohnsonWetland UnitControl","IDTM_X":2599623.86367581,"IDTM_Y":1308878.18621694,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.778267780042,42.9740249721192]}},{"type":"Feature","properties":{"siteID":"Site-15","Name":"JohnsonWetland UnitControl","IDTM_X":2599821.99628991,"IDTM_Y":1308603.64561353,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.775887560988,42.9715273046823]}},{"type":"Feature","properties":{"siteID":"Site-16","Name":"JohnsonWetland UnitControl","IDTM_X":2599722.92998286,"IDTM_Y":1308226.15228384,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.77716947308,42.968141685061]}},{"type":"Feature","properties":{"siteID":"Site-17","Name":"JohnsonWetland UnitControl","IDTM_X":2599306.85149325,"IDTM_Y":1308946.82136779,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.782142388014,42.9746843262598]}},{"type":"Feature","properties":{"siteID":"Site-18","Name":"JohnsonWetland UnitControl","IDTM_X":2599584.23715299,"IDTM_Y":1308603.64561353,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.778802541825,42.9715584453475]}},{"type":"Feature","properties":{"siteID":"Site-19","Name":"JohnsonWetland UnitControl","IDTM_X":2599841.80955132,"IDTM_Y":1308294.7874347,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.775699806783,42.9687440320075]}},{"type":"Feature","properties":{"siteID":"Site-20","Name":"JohnsonWetland UnitControl","IDTM_X":2599485.17084594,"IDTM_Y":1308981.13894322,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.779949929971,42.9749700042033]}},{"type":"Feature","properties":{"siteID":"Site-21","Name":"JohnsonWetland UnitControl","IDTM_X":2599683.30346004,"IDTM_Y":1308569.32803811,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.777594085538,42.9712365151284]}},{"type":"Feature","properties":{"siteID":"Site-22","Name":"JohnsonWetland UnitControl","IDTM_X":2600039.94216543,"IDTM_Y":1308432.0577364,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.773246205845,42.96995387641]}},{"type":"Feature","properties":{"siteID":"Site-23","Name":"JohnsonWetland UnitControl","IDTM_X":2599009.6525721,"IDTM_Y":1309461.58499919,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.78569510914,42.9793575125256]}},{"type":"Feature","properties":{"siteID":"Site-24","Name":"JohnsonWetland UnitControl","IDTM_X":2599623.86367581,"IDTM_Y":1308809.55106609,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.778280013452,42.9734070442917]}},{"type":"Feature","properties":{"siteID":"Site-25","Name":"JohnsonWetland UnitControl","IDTM_X":2599742.74324427,"IDTM_Y":1308260.46985927,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.776920449122,42.968448053591]}},{"type":"Feature","properties":{"siteID":"Site-26","Name":"JohnsonWetland UnitControl","IDTM_X":2599227.59844761,"IDTM_Y":1309289.99712205,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.783053168089,42.9777843055398]}},{"type":"Feature","properties":{"siteID":"Site-27","Name":"JohnsonWetland UnitControl","IDTM_X":2599564.42389158,"IDTM_Y":1308912.50379237,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.778990441749,42.9743417134211]}},{"type":"Feature","properties":{"siteID":"Site-28","Name":"JohnsonWetland UnitControl","IDTM_X":2599623.86367581,"IDTM_Y":1308466.37531183,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.778341174705,42.9703174041073]}},{"type":"Feature","properties":{"siteID":"Site-29","Name":"JohnsonWetland UnitControl","IDTM_X":2599405.9178003,"IDTM_Y":1308843.86864151,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.780946059515,42.9737445021087]}},{"type":"Feature","properties":{"siteID":"Site-30","Name":"JohnsonWetland UnitControl","IDTM_X":2599306.85149325,"IDTM_Y":1309015.45651865,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.782130192729,42.9753022548376]}},{"type":"Feature","properties":{"siteID":"Site-31","Name":"JohnsonWetland UnitControl","IDTM_X":2599544.61063017,"IDTM_Y":1308672.28076438,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.779276149888,42.9721815565026]}},{"type":"Feature","properties":{"siteID":"Site-32","Name":"JohnsonWetland UnitControl","IDTM_X":2599187.97192479,"IDTM_Y":1309221.3619712,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.783551230696,42.9771715423591]}},{"type":"Feature","properties":{"siteID":"Site-33","Name":"JohnsonWetland UnitControl","IDTM_X":2599267.22497043,"IDTM_Y":1309084.0916695,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.782603862583,42.9759253525877]}},{"type":"Feature","properties":{"siteID":"Site-34","Name":"JohnsonWetland UnitControl","IDTM_X":2599604.0504144,"IDTM_Y":1308706.59833981,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.778541281703,42.9724827452393]}},{"type":"Feature","properties":{"siteID":"Site-35","Name":"JohnsonWetland UnitControl","IDTM_X":2599980.5023812,"IDTM_Y":1308397.74016098,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.773981068695,42.9696527214924]}},{"type":"Feature","properties":{"siteID":"Site-36","Name":"JohnsonWetland UnitControl","IDTM_X":2599029.46583351,"IDTM_Y":1309152.72682035,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.785506896408,42.9765742539559]}},{"type":"Feature","properties":{"siteID":"Site-37","Name":"JohnsonWetland UnitControl","IDTM_X":2599683.30346004,"IDTM_Y":1308706.59833981,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.777569606453,42.9724723708679]}},{"type":"Feature","properties":{"siteID":"Site-38","Name":"JohnsonWetland UnitControl","IDTM_X":2599703.11672145,"IDTM_Y":1308329.10501012,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.777394014852,42.969071172338]}},{"type":"Feature","properties":{"siteID":"Site-39","Name":"JohnsonWetland UnitControl","IDTM_X":2599346.47801607,"IDTM_Y":1309289.99712205,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.78159552775,42.9777687968143]}},{"type":"Feature","properties":{"siteID":"Site-40","Name":"JohnsonWetland UnitControl","IDTM_X":2599960.68911979,"IDTM_Y":1308637.96318896,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.774181020907,42.9718180685746]}},{"type":"Feature","properties":{"siteID":"Site-41","Name":"JohnsonWetland UnitControl","IDTM_X":2599703.11672145,"IDTM_Y":1308466.37531183,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.777369533613,42.9703070284544]}},{"type":"Feature","properties":{"siteID":"Site-42","Name":"JohnsonWetland UnitControl","IDTM_X":2599405.9178003,"IDTM_Y":1308775.23349066,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.780958265992,42.9731265736343]}},{"type":"Feature","properties":{"siteID":"Site-43","Name":"JohnsonWetland UnitControl","IDTM_X":2600020.12890402,"IDTM_Y":1308329.10501012,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.773507533421,42.9690295890557]}},{"type":"Feature","properties":{"siteID":"Site-44","Name":"JohnsonWetland UnitControl","IDTM_X":2599108.71887915,"IDTM_Y":1309358.63227291,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.784498636686,42.9784177244912]}},{"type":"Feature","properties":{"siteID":"Site-45","Name":"JohnsonWetland UnitControl","IDTM_X":2599386.10453889,"IDTM_Y":1309152.72682035,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.781134060614,42.9765277668922]}},{"type":"Feature","properties":{"siteID":"Site-46","Name":"JohnsonWetland UnitControl","IDTM_X":2599049.27909492,"IDTM_Y":1309461.58499919,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.785209216036,42.9793523560764]}},{"type":"Feature","properties":{"siteID":"Site-47","Name":"JohnsonWetland UnitControl","IDTM_X":2599128.53214056,"IDTM_Y":1309118.40924492,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.784298305891,42.9762523931754]}},{"type":"Feature","properties":{"siteID":"Site-48","Name":"JohnsonWetland UnitControl","IDTM_X":2599802.1830285,"IDTM_Y":1308843.86864151,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.776087584741,42.9736926486401]}},{"type":"Feature","properties":{"siteID":"Site-49","Name":"JohnsonWetland UnitControl","IDTM_X":2599703.11672145,"IDTM_Y":1308946.82136779,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.77728383709,42.9746325226639]}},{"type":"Feature","properties":{"siteID":"Site-50","Name":"JohnsonWetland UnitControl","IDTM_X":2599881.43607414,"IDTM_Y":1308706.59833981,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.775140420584,42.9724463988617]}},{"type":"Feature","properties":{"siteID":"Site-51","Name":"JohnsonWetland UnitControl","IDTM_X":2599722.92998286,"IDTM_Y":1308363.42258555,"color":"firebrick"},"geometry":{"type":"Point","coordinates":[-112.777144988141,42.9693775412753]}},{"type":"Feature","properties":{"siteID":"Site-01","Name":"Wells Thompson Graze Area","IDTM_X":2599484.58667067,"IDTM_Y":1311611.27714936,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.779488642891,42.9986493864837]}},{"type":"Feature","properties":{"siteID":"Site-02","Name":"Wells Thompson Graze Area","IDTM_X":2600037.47997792,"IDTM_Y":1311816.48557064,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.772670297771,43.0004243564803]}},{"type":"Feature","properties":{"siteID":"Site-03","Name":"Wells Thompson Graze Area","IDTM_X":2599938.74903019,"IDTM_Y":1312124.29820257,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.773826210078,43.0032085816659]}},{"type":"Feature","properties":{"siteID":"Site-04","Name":"Wells Thompson Graze Area","IDTM_X":2599642.55618702,"IDTM_Y":1312500.51364159,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.777392288912,43.0066345310486]}},{"type":"Feature","properties":{"siteID":"Site-05","Name":"Wells Thompson Graze Area","IDTM_X":2599543.8252393,"IDTM_Y":1311782.2841671,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.778731549468,43.0001812184509]}},{"type":"Feature","properties":{"siteID":"Site-06","Name":"Wells Thompson Graze Area","IDTM_X":2599721.5409452,"IDTM_Y":1311748.08276355,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.776557813394,42.9998500189075]}},{"type":"Feature","properties":{"siteID":"Site-07","Name":"Wells Thompson Graze Area","IDTM_X":2599721.5409452,"IDTM_Y":1312295.30522031,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.776460038898,43.0047766791011]}},{"type":"Feature","properties":{"siteID":"Site-08","Name":"Wells Thompson Graze Area","IDTM_X":2599445.09429158,"IDTM_Y":1312432.1108345,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.779826786118,43.0060445511197]}},{"type":"Feature","properties":{"siteID":"Site-09","Name":"Wells Thompson Graze Area","IDTM_X":2599366.1095334,"IDTM_Y":1312158.49960612,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.780844419325,43.0035915447441]}},{"type":"Feature","properties":{"siteID":"Site-10","Name":"Wells Thompson Graze Area","IDTM_X":2599780.77951384,"IDTM_Y":1312055.89539548,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.775776174415,43.0026134948732]}},{"type":"Feature","properties":{"siteID":"Site-11","Name":"Wells Thompson Graze Area","IDTM_X":2599741.28713475,"IDTM_Y":1312603.11785223,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.776162795916,43.0075453332666]}},{"type":"Feature","properties":{"siteID":"Site-12","Name":"Wells Thompson Graze Area","IDTM_X":2599385.85572294,"IDTM_Y":1312671.52065933,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.780510828636,43.0082077120832]}},{"type":"Feature","properties":{"siteID":"Site-13","Name":"Wells Thompson Graze Area","IDTM_X":2599603.06380793,"IDTM_Y":1311953.29118483,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.777974417664,43.0017130445434]}},{"type":"Feature","properties":{"siteID":"Site-14","Name":"Wells Thompson Graze Area","IDTM_X":2599978.24140928,"IDTM_Y":1311919.08978129,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.773378536419,43.0013558947592]}},{"type":"Feature","properties":{"siteID":"Site-15","Name":"Wells Thompson Graze Area","IDTM_X":2599938.74903019,"IDTM_Y":1312534.71504514,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.773752709195,43.0069035712771]}},{"type":"Feature","properties":{"siteID":"Site-16","Name":"Wells Thompson Graze Area","IDTM_X":2599563.57142884,"IDTM_Y":1312568.91644869,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.778349005877,43.0072607108143]}},{"type":"Feature","properties":{"siteID":"Site-17","Name":"Wells Thompson Graze Area","IDTM_X":2599662.30237657,"IDTM_Y":1311782.2841671,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.777278318341,43.0001657009616]}},{"type":"Feature","properties":{"siteID":"Site-18","Name":"Wells Thompson Graze Area","IDTM_X":2600116.4647361,"IDTM_Y":1311679.67995646,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.771726012522,42.9991822988039]}},{"type":"Feature","properties":{"siteID":"Site-19","Name":"Wells Thompson Graze Area","IDTM_X":2599919.00284065,"IDTM_Y":1312158.49960612,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.774062303492,43.0035190925705]}},{"type":"Feature","properties":{"siteID":"Site-20","Name":"Wells Thompson Graze Area","IDTM_X":2599622.80999748,"IDTM_Y":1312329.50662385,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.777665049276,43.0050975376402]}},{"type":"Feature","properties":{"siteID":"Site-21","Name":"Wells Thompson Graze Area","IDTM_X":2599445.09429158,"IDTM_Y":1311884.88837774,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.779924295933,43.0011178858353]}},{"type":"Feature","properties":{"siteID":"Site-22","Name":"Wells Thompson Graze Area","IDTM_X":2599879.51046156,"IDTM_Y":1311679.67995646,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.774632423551,42.9992134557589]}},{"type":"Feature","properties":{"siteID":"Site-23","Name":"Wells Thompson Graze Area","IDTM_X":2599859.76427202,"IDTM_Y":1312261.10381676,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.774770597859,43.0044506224387]}},{"type":"Feature","properties":{"siteID":"Site-24","Name":"Wells Thompson Graze Area","IDTM_X":2599425.34810203,"IDTM_Y":1312261.10381676,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.780099482961,43.0045075509744]}},{"type":"Feature","properties":{"siteID":"Site-25","Name":"Wells Thompson Graze Area","IDTM_X":2599464.84048112,"IDTM_Y":1311987.49258838,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.779663802032,43.002039053343]}},{"type":"Feature","properties":{"siteID":"Site-26","Name":"Wells Thompson Graze Area","IDTM_X":2599721.5409452,"IDTM_Y":1312021.69399193,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.776508929226,43.0023133495588]}},{"type":"Feature","properties":{"siteID":"Site-27","Name":"Wells Thompson Graze Area","IDTM_X":2599879.51046156,"IDTM_Y":1312774.12486997,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.774436546533,43.0090667657184]}},{"type":"Feature","properties":{"siteID":"Site-28","Name":"Wells Thompson Graze Area","IDTM_X":2599445.09429158,"IDTM_Y":1312568.91644869,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.779802404824,43.0072762167478]}},{"type":"Feature","properties":{"siteID":"Site-29","Name":"Wells Thompson Graze Area","IDTM_X":2599662.30237657,"IDTM_Y":1312055.89539548,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.777229462418,43.0026290321393]}},{"type":"Feature","properties":{"siteID":"Site-30","Name":"Wells Thompson Graze Area","IDTM_X":2600037.47997792,"IDTM_Y":1312090.09679902,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.772621257312,43.0028876833014]}},{"type":"Feature","properties":{"siteID":"Site-31","Name":"Wells Thompson Graze Area","IDTM_X":2599919.00284065,"IDTM_Y":1312637.31925578,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.77397656669,43.0078299136871]}},{"type":"Feature","properties":{"siteID":"Site-32","Name":"Wells Thompson Graze Area","IDTM_X":2599603.06380793,"IDTM_Y":1312705.72206287,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.777840118288,43.0084872025352]}},{"type":"Feature","properties":{"siteID":"Site-33","Name":"Wells Thompson Graze Area","IDTM_X":2599642.55618702,"IDTM_Y":1311679.67995646,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.777538839206,42.9992445389302]}},{"type":"Feature","properties":{"siteID":"Site-34","Name":"Wells Thompson Graze Area","IDTM_X":2600037.47997792,"IDTM_Y":1311611.27714936,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.77270707406,42.9985768606365]}},{"type":"Feature","properties":{"siteID":"Site-35","Name":"Wells Thompson Graze Area","IDTM_X":2600136.21092564,"IDTM_Y":1312329.50662385,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.771367223113,43.0050300971242]}},{"type":"Feature","properties":{"siteID":"Site-36","Name":"Wells Thompson Graze Area","IDTM_X":2599563.57142884,"IDTM_Y":1312432.1108345,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.778373416194,43.00602904585]}},{"type":"Feature","properties":{"siteID":"Site-37","Name":"Wells Thompson Graze Area","IDTM_X":2599405.60191249,"IDTM_Y":1311679.67995646,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.780445259477,42.9992755483177]}},{"type":"Feature","properties":{"siteID":"Site-38","Name":"Wells Thompson Graze Area","IDTM_X":2599859.76427202,"IDTM_Y":1311713.88136,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.774868506225,42.9995239650739]}},{"type":"Feature","properties":{"siteID":"Site-39","Name":"Wells Thompson Graze Area","IDTM_X":2599800.52570338,"IDTM_Y":1312432.1108345,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.775466679808,43.0059979799595]}},{"type":"Feature","properties":{"siteID":"Site-40","Name":"Wells Thompson Graze Area","IDTM_X":2599366.1095334,"IDTM_Y":1312226.90241321,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.780832240079,43.004207378091]}},{"type":"Feature","properties":{"siteID":"Site-41","Name":"Wells Thompson Graze Area","IDTM_X":2599484.58667067,"IDTM_Y":1311953.29118483,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.779427685636,43.0017285536393]}},{"type":"Feature","properties":{"siteID":"Site-42","Name":"Wells Thompson Graze Area","IDTM_X":2599840.01808247,"IDTM_Y":1311953.29118483,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.775067885182,43.0016819710089]}},{"type":"Feature","properties":{"siteID":"Site-43","Name":"Wells Thompson Graze Area","IDTM_X":2599840.01808247,"IDTM_Y":1312637.31925578,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.774945506558,43.0078402901506]}},{"type":"Feature","properties":{"siteID":"Site-44","Name":"Wells Thompson Graze Area","IDTM_X":2599405.60191249,"IDTM_Y":1312568.91644869,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.780286871396,43.007281381292]}},{"type":"Feature","properties":{"siteID":"Site-45","Name":"Wells Thompson Graze Area","IDTM_X":2600017.73378837,"IDTM_Y":1311645.47855291,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.772943144582,42.9988873738075]}},{"type":"Feature","properties":{"siteID":"Site-46","Name":"Wells Thompson Graze Area","IDTM_X":2600136.21092564,"IDTM_Y":1311919.08978129,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.77144086214,43.0013351096015]}},{"type":"Feature","properties":{"siteID":"Site-47","Name":"Wells Thompson Graze Area","IDTM_X":2599563.57142884,"IDTM_Y":1312226.90241321,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.778410028786,43.0041815478837]}},{"type":"Feature","properties":{"siteID":"Site-48","Name":"Wells Thompson Graze Area","IDTM_X":2599583.31761839,"IDTM_Y":1312739.92346642,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.778076251725,43.0087977053753]}},{"type":"Feature","properties":{"siteID":"Site-49","Name":"Wells Thompson Graze Area","IDTM_X":2599622.80999748,"IDTM_Y":1311713.88136,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.777774936772,42.9995550424292]}},{"type":"Feature","properties":{"siteID":"Site-50","Name":"Wells Thompson Graze Area","IDTM_X":2599800.52570338,"IDTM_Y":1311679.67995646,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.775601228256,42.9992238250142]}},{"type":"Feature","properties":{"siteID":"Site-51","Name":"Wells Thompson Graze Area","IDTM_X":2599938.74903019,"IDTM_Y":1312397.90943095,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.773777211033,43.0056719083506]}},{"type":"Feature","properties":{"siteID":"Site-52","Name":"Wells Thompson Graze Area","IDTM_X":2599287.12477522,"IDTM_Y":1312226.90241321,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.781801125492,43.0042176958245]}},{"type":"Feature","properties":{"siteID":"Site-53","Name":"Wells Thompson Graze Area","IDTM_X":2599306.87096476,"IDTM_Y":1312055.89539548,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.781589333349,43.0026755332485]}},{"type":"Feature","properties":{"siteID":"Site-54","Name":"Wells Thompson Graze Area","IDTM_X":2599800.52570338,"IDTM_Y":1311884.88837774,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.775564537848,43.0010713226493]}},{"type":"Feature","properties":{"siteID":"Site-55","Name":"Wells Thompson Graze Area","IDTM_X":2599741.28713475,"IDTM_Y":1312534.71504514,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.776175023227,43.0069295013523]}},{"type":"Feature","properties":{"siteID":"Site-56","Name":"Wells Thompson Graze Area","IDTM_X":2599326.61715431,"IDTM_Y":1312637.31925578,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.781243628213,43.0079075372717]}},{"type":"Feature","properties":{"siteID":"Site-57","Name":"Wells Thompson Graze Area","IDTM_X":2599484.58667067,"IDTM_Y":1312021.69399193,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.779415493033,43.0023443868625]}},{"type":"Feature","properties":{"siteID":"Site-58","Name":"Wells Thompson Graze Area","IDTM_X":2599879.51046156,"IDTM_Y":1312021.69399193,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.774571222588,43.0022926170276]}},{"type":"Feature","properties":{"siteID":"Site-59","Name":"Wells Thompson Graze Area","IDTM_X":2599721.5409452,"IDTM_Y":1312705.72206287,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.776386691854,43.0084716713353]}},{"type":"Feature","properties":{"siteID":"Site-60","Name":"Wells Thompson Graze Area","IDTM_X":2599346.36334385,"IDTM_Y":1312739.92346642,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.780983122951,43.0088287066005]}},{"type":"Feature","properties":{"siteID":"Site-61","Name":"Wells Thompson Graze Area","IDTM_X":2599919.00284065,"IDTM_Y":1311679.67995646,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.774148021391,42.9992082680569]}},{"type":"Feature","properties":{"siteID":"Site-62","Name":"Wells Thompson Graze Area","IDTM_X":2600096.71854655,"IDTM_Y":1312055.89539548,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.771900745392,43.002571971973]}},{"type":"Feature","properties":{"siteID":"Site-63","Name":"Wells Thompson Graze Area","IDTM_X":2599662.30237657,"IDTM_Y":1312397.90943095,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.777168383857,43.0057081945519]}},{"type":"Feature","properties":{"siteID":"Site-64","Name":"Wells Thompson Graze Area","IDTM_X":2599583.31761839,"IDTM_Y":1312603.11785223,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.778100668802,43.0075660408682]}},{"type":"Feature","properties":{"siteID":"Site-65","Name":"Wells Thompson Graze Area","IDTM_X":2599899.2566511,"IDTM_Y":1312466.31223804,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.774249418019,43.0062929298527]}},{"type":"Feature","properties":{"siteID":"Site-66","Name":"Wells Thompson Graze Area","IDTM_X":2599405.60191249,"IDTM_Y":1312021.69399193,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.78038434866,43.0023547162322]}},{"type":"Feature","properties":{"siteID":"Site-67","Name":"Wells Thompson Graze Area","IDTM_X":2599978.24140928,"IDTM_Y":1312739.92346642,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.773231476611,43.0087458726481]}},{"type":"Feature","properties":{"siteID":"Site-68","Name":"Wells Thompson Graze Area","IDTM_X":2599958.49521974,"IDTM_Y":1311884.88837774,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.773626870925,43.0010505746082]}},{"type":"Feature","properties":{"siteID":"Site-69","Name":"Wells Thompson Graze Area","IDTM_X":2599247.63239613,"IDTM_Y":1312432.1108345,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.782249071883,43.006070352235]}},{"type":"Feature","properties":{"siteID":"Site-70","Name":"Wells Thompson Graze Area","IDTM_X":2599741.28713475,"IDTM_Y":1312192.70100966,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.776236154005,43.0038503407413]}},{"type":"Feature","properties":{"siteID":"Site-71","Name":"Wells Thompson Graze Area","IDTM_X":2599524.07904976,"IDTM_Y":1312705.72206287,"color":"cyan"},"geometry":{"type":"Point","coordinates":[-112.778809069885,43.0084975464174]}}]}},"paint":{"circle-color":["get","color"],"circle-radius":3},"layout":{"visibility":"visible"}}}},{"methodName":"addPopups","args":{"layerId":"circle-layer","popup":"{{Name}}"}}],"mapProps":{"style":"mapbox://styles/mapbox/satellite-v9","center":[-112.778360384826,42.9899896667937],"zoom":10},"accessToken":"pk.eyJ1IjoicnJpdHNvbiIsImEiOiJja3poOXo2b3Y0MGg2MnZuZm43ejc2bXl1In0.YrjCYPgR0i8yyiOCb09-Bg"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="blackfoot-reservoir-lowland-lake-survey-sites" class="level3">
<h3 class="anchored" data-anchor-id="blackfoot-reservoir-lowland-lake-survey-sites">Blackfoot Reservoir Lowland Lake Survey Sites</h3>
<div class="cell">
<div class="cell-output-display">
<div class="mapboxer html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-dc3d123e901f7efa205c" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-dc3d123e901f7efa205c">{"x":{"source":null,"calls":[{"methodName":"addControl","args":{"controlName":"NavigationControl","pos":"top-left","options":{"showCompass":true}}},{"methodName":"addControl","args":{"controlName":"ScaleControl","pos":"bottom-right","options":{"unit":"metric"}}},{"methodName":"addControl","args":{"controlName":"ScaleControl","pos":"bottom-right","options":{"unit":"imperial"}}},{"methodName":"addLayer","args":{"style":{"id":"circle-layer","type":"circle","source":{"type":"geojson","data":{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"FID":0.0,"UNIQUE_ID":1.0,"RANDOM_ID":5.0,"SITE_NAME":"EF_2","GEAR_TYPE":"Electrofish","color":"yellow"},"geometry":{"type":"Point","coordinates":[-111.605055294,42.8648925873]}},{"type":"Feature","properties":{"FID":1.0,"UNIQUE_ID":2.0,"RANDOM_ID":23.0,"SITE_NAME":"GNF_1","GEAR_TYPE":"Gillnet-Floating","color":"red"},"geometry":{"type":"Point","coordinates":[-111.604326063,42.8536392365]}},{"type":"Feature","properties":{"FID":2.0,"UNIQUE_ID":4.0,"RANDOM_ID":46.0,"SITE_NAME":"EF_1","GEAR_TYPE":"Electrofish","color":"yellow"},"geometry":{"type":"Point","coordinates":[-111.573038,42.85778174]}},{"type":"Feature","properties":{"FID":3.0,"UNIQUE_ID":5.0,"RANDOM_ID":56.0,"SITE_NAME":"GNP_1","GEAR_TYPE":"Gillnet-Pair","color":"red"},"geometry":{"type":"Point","coordinates":[-111.612275924,42.8761998489]}},{"type":"Feature","properties":{"FID":4.0,"UNIQUE_ID":6.0,"RANDOM_ID":75.0,"SITE_NAME":"TN_2","GEAR_TYPE":"Trapnet","color":"orange"},"geometry":{"type":"Point","coordinates":[-111.564056197,42.87035369]}},{"type":"Feature","properties":{"FID":5.0,"UNIQUE_ID":7.0,"RANDOM_ID":86.0,"SITE_NAME":"GNP_2","GEAR_TYPE":"Gillnet-Pair","color":"red"},"geometry":{"type":"Point","coordinates":[-111.577545,42.87595958]}},{"type":"Feature","properties":{"FID":6.0,"UNIQUE_ID":8.0,"RANDOM_ID":102.0,"SITE_NAME":"EF_3","GEAR_TYPE":"Electrofish","color":"yellow"},"geometry":{"type":"Point","coordinates":[-111.5616232,42.8790119]}},{"type":"Feature","properties":{"FID":7.0,"UNIQUE_ID":9.0,"RANDOM_ID":112.0,"SITE_NAME":"TN_3","GEAR_TYPE":"Trapnet","color":"orange"},"geometry":{"type":"Point","coordinates":[-111.565434988,42.893111934]}},{"type":"Feature","properties":{"FID":8.0,"UNIQUE_ID":10.0,"RANDOM_ID":121.0,"SITE_NAME":"GNF_2","GEAR_TYPE":"Gillnet-Floating","color":"red"},"geometry":{"type":"Point","coordinates":[-111.5953704,42.88984259]}},{"type":"Feature","properties":{"FID":9.0,"UNIQUE_ID":11.0,"RANDOM_ID":140.0,"SITE_NAME":"TN_4","GEAR_TYPE":"Trapnet","color":"orange"},"geometry":{"type":"Point","coordinates":[-111.6302021,42.89996989]}},{"type":"Feature","properties":{"FID":10.0,"UNIQUE_ID":12.0,"RANDOM_ID":150.0,"SITE_NAME":"GNF_3","GEAR_TYPE":"Gillnet-Floating","color":"red"},"geometry":{"type":"Point","coordinates":[-111.5705454,42.89832283]}},{"type":"Feature","properties":{"FID":11.0,"UNIQUE_ID":13.0,"RANDOM_ID":164.0,"SITE_NAME":"TN_5","GEAR_TYPE":"Trapnet","color":"orange"},"geometry":{"type":"Point","coordinates":[-111.603050224,42.9022209945]}},{"type":"Feature","properties":{"FID":12.0,"UNIQUE_ID":14.0,"RANDOM_ID":177.0,"SITE_NAME":"EF_4","GEAR_TYPE":"Electrofish","color":"yellow"},"geometry":{"type":"Point","coordinates":[-111.620929456,42.908269129]}},{"type":"Feature","properties":{"FID":13.0,"UNIQUE_ID":15.0,"RANDOM_ID":190.0,"SITE_NAME":"GNP_3","GEAR_TYPE":"Gillnet-Pair","color":"red"},"geometry":{"type":"Point","coordinates":[-111.62512553,42.9202550344]}},{"type":"Feature","properties":{"FID":14.0,"UNIQUE_ID":16.0,"RANDOM_ID":200.0,"SITE_NAME":"GNF_4","GEAR_TYPE":"Gillnet-Floating","color":"red"},"geometry":{"type":"Point","coordinates":[-111.570015,42.91181852]}},{"type":"Feature","properties":{"FID":15.0,"UNIQUE_ID":17.0,"RANDOM_ID":210.0,"SITE_NAME":"GNF_5","GEAR_TYPE":"Gillnet-Floating","color":"red"},"geometry":{"type":"Point","coordinates":[-111.606562,42.91709121]}},{"type":"Feature","properties":{"FID":16.0,"UNIQUE_ID":18.0,"RANDOM_ID":234.0,"SITE_NAME":"TN_6","GEAR_TYPE":"Trapnet","color":"orange"},"geometry":{"type":"Point","coordinates":[-111.575470278,42.9239407984]}},{"type":"Feature","properties":{"FID":17.0,"UNIQUE_ID":19.0,"RANDOM_ID":246.0,"SITE_NAME":"EF_6","GEAR_TYPE":"Electrofish","color":"yellow"},"geometry":{"type":"Point","coordinates":[-111.6367176,42.92778439]}},{"type":"Feature","properties":{"FID":18.0,"UNIQUE_ID":20.0,"RANDOM_ID":260.0,"SITE_NAME":"EF_5","GEAR_TYPE":"Electrofish","color":"yellow"},"geometry":{"type":"Point","coordinates":[-111.599957335,42.927101068]}},{"type":"Feature","properties":{"FID":19.0,"UNIQUE_ID":21.0,"RANDOM_ID":265.0,"SITE_NAME":"TN_8","GEAR_TYPE":"Trapnet","color":"orange"},"geometry":{"type":"Point","coordinates":[-111.60807226,42.9405854514]}},{"type":"Feature","properties":{"FID":20.0,"UNIQUE_ID":22.0,"RANDOM_ID":281.0,"SITE_NAME":"TN_7","GEAR_TYPE":"Trapnet","color":"orange"},"geometry":{"type":"Point","coordinates":[-111.6410717,42.93601643]}},{"type":"Feature","properties":{"FID":21.0,"UNIQUE_ID":23.0,"RANDOM_ID":291.0,"SITE_NAME":"GNF_6","GEAR_TYPE":"Gillnet-Floating","color":"red"},"geometry":{"type":"Point","coordinates":[-111.6301827,42.94009448]}},{"type":"Feature","properties":{"FID":22.0,"UNIQUE_ID":24.0,"RANDOM_ID":308.0,"SITE_NAME":"EF_7","GEAR_TYPE":"Electrofish","color":"yellow"},"geometry":{"type":"Point","coordinates":[-111.6512831,42.95608543]}},{"type":"Feature","properties":{"FID":23.0,"UNIQUE_ID":25.0,"RANDOM_ID":321.0,"SITE_NAME":"GNP_4","GEAR_TYPE":"Gillnet-Pair","color":"red"},"geometry":{"type":"Point","coordinates":[-111.6477982,42.96289586]}},{"type":"Feature","properties":{"FID":24.0,"UNIQUE_ID":26.0,"RANDOM_ID":333.0,"SITE_NAME":"TN_9","GEAR_TYPE":"Trapnet","color":"orange"},"geometry":{"type":"Point","coordinates":[-111.6753505,42.97791352]}},{"type":"Feature","properties":{"FID":25.0,"UNIQUE_ID":27.0,"RANDOM_ID":344.0,"SITE_NAME":"EF_8","GEAR_TYPE":"Electrofish","color":"yellow"},"geometry":{"type":"Point","coordinates":[-111.6928869,42.98851531]}},{"type":"Feature","properties":{"FID":26.0,"UNIQUE_ID":28.0,"RANDOM_ID":353.0,"SITE_NAME":"GNF_7","GEAR_TYPE":"Gillnet-Floating","color":"red"},"geometry":{"type":"Point","coordinates":[-111.677455,42.99051399]}},{"type":"Feature","properties":{"FID":27.0,"UNIQUE_ID":29.0,"RANDOM_ID":373.0,"SITE_NAME":"GNP_5","GEAR_TYPE":"Gillnet-Pair","color":"red"},"geometry":{"type":"Point","coordinates":[-111.7071865,43.00901306]}},{"type":"Feature","properties":{"FID":28.0,"UNIQUE_ID":30.0,"RANDOM_ID":389.0,"SITE_NAME":"TN_10","GEAR_TYPE":"Trapnet","color":"orange"},"geometry":{"type":"Point","coordinates":[-111.685197,43.01582805]}}]}},"paint":{"circle-color":["get","color"],"circle-radius":3},"layout":{"visibility":"visible"}}}},{"methodName":"addPopups","args":{"layerId":"circle-layer","popup":"{{GEAR_TYPE}}"}}],"mapProps":{"style":"mapbox://styles/mapbox/satellite-v9","center":[-111.617716684448,42.9212078811172],"zoom":10},"accessToken":"pk.eyJ1IjoicnJpdHNvbiIsImEiOiJja3poOXo2b3Y0MGg2MnZuZm43ejc2bXl1In0.YrjCYPgR0i8yyiOCb09-Bg"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<section id="r-code-fishnetr" class="level4">
<h4 class="anchored" data-anchor-id="r-code-fishnetr">R code: <a href="https://github.com/r2j2ritson/RSpatial_Wildlife/blob/main/R/fishnetR.R"><code>fishnetR</code></a></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>fishnetR <span class="ot">&lt;-</span> <span class="cf">function</span>(shp,cell_size,n,<span class="at">stratify=</span><span class="cn">TRUE</span>,<span class="at">seed=</span><span class="dv">1</span>){</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">require</span>(dplyr)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create grid (fishnet)</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  grid <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_make_grid</span>(shp, <span class="at">cellsize =</span> cell_size, <span class="at">what =</span> <span class="st">"polygons"</span>, <span class="at">square =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    terra<span class="sc">::</span><span class="fu">vect</span>(.) <span class="sc">%&gt;%</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    terra<span class="sc">::</span><span class="fu">crop</span>(.,terra<span class="sc">::</span><span class="fu">vect</span>(shp)) <span class="sc">%&gt;%</span> </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    sf<span class="sc">::</span><span class="fu">st_as_sf</span>(.) <span class="sc">%&gt;%</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    sf<span class="sc">::</span><span class="fu">st_cast</span>(.,<span class="st">"POLYGON"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">seq</span>(<span class="dv">1</span>,<span class="fu">nrow</span>(.), <span class="at">by=</span><span class="dv">1</span>))</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Calculate Stratas</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  stratas <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>n),<span class="at">each=</span><span class="fu">floor</span>(<span class="fu">nrow</span>(grid)<span class="sc">/</span>n))</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># randomly assign remainder</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>  extra <span class="ot">&lt;-</span> <span class="fu">sample.int</span>(n,<span class="fu">nrow</span>(grid)<span class="sc">%%</span>n,F)</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>  <span class="co"># combine strata</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  stratas <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">c</span>(stratas,extra))</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set stratas</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  grid <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(grid,<span class="at">strata =</span> <span class="fu">as.factor</span>(stratas))</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  <span class="co">#Stratify Random Sample</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(seed)</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(stratify){</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    i<span class="ot">=</span><span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>,<span class="dv">1</span>)</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">repeat</span>{</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>      i<span class="ot">=</span> i<span class="sc">+</span><span class="dv">1</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>      <span class="fu">set.seed</span>(i)</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>      spx <span class="ot">&lt;-</span> sf<span class="sc">::</span><span class="fu">st_drop_geometry</span>(grid)</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(<span class="sc">!</span><span class="fu">inherits</span>(spx[,<span class="st">"strata"</span>], <span class="st">"factor"</span>)) </span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>        spx[,<span class="st">"strata"</span>] <span class="ot">&lt;-</span> <span class="fu">factor</span>(spx[,<span class="st">"strata"</span>]) </span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>      spx<span class="sc">$</span>REP <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>      reps<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>      nn<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>      results <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span>(j <span class="cf">in</span> <span class="fu">levels</span>(spx[, <span class="st">"strata"</span>])) {</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>        d <span class="ot">&lt;-</span> spx[spx[,<span class="st">"strata"</span>] <span class="sc">==</span> j,]</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>        d<span class="sc">$</span>rowname <span class="ot">&lt;-</span> <span class="fu">rownames</span>(d)</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(<span class="fu">nrow</span>(d) <span class="sc">&gt;</span> n) {   </span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>          <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>reps) {   </span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>            s <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span>, <span class="cf">function</span>(ij) {</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>              d[<span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(d), nn),]})</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>            s[[<span class="dv">1</span>]]<span class="sc">$</span>REP <span class="ot">&lt;-</span> i</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>            results[[<span class="fu">paste</span>(j,i,<span class="at">sep=</span><span class="st">"_"</span>)]] <span class="ot">&lt;-</span>s[[<span class="dv">1</span>]] </span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>        } <span class="cf">else</span> {</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>          d<span class="sc">$</span>REP <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>          results[[<span class="fu">paste</span>(j,i,<span class="at">sep=</span><span class="st">"_"</span>)]] <span class="ot">&lt;-</span> d</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>      results</span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>      results <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, results)</span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>      replace<span class="ot">=</span>F</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(<span class="sc">!</span>replace){</span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(<span class="fu">any</span>(<span class="fu">duplicated</span>(results<span class="sc">$</span>rowname))){</span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>          results <span class="ot">&lt;-</span> results[<span class="sc">-</span><span class="fu">which</span>(<span class="fu">duplicated</span>(results<span class="sc">$</span>rowname)),]</span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>      results <span class="ot">&lt;-</span> stats<span class="sc">::</span><span class="fu">na.omit</span>(results[,<span class="fu">c</span>(<span class="st">"rowname"</span>,<span class="st">"REP"</span>)])</span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>      results <span class="ot">&lt;-</span> <span class="fu">merge</span>(grid, results, <span class="at">by.y=</span><span class="st">"rowname"</span>, <span class="at">by.x =</span> <span class="st">'row.names'</span>, </span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>                       <span class="at">all.x =</span> <span class="cn">FALSE</span>, <span class="at">all.y =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>      strat_rand_samp <span class="ot">&lt;-</span> results <span class="sc">%&gt;%</span> </span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>        sf<span class="sc">::</span><span class="fu">st_as_sf</span>(.)</span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(<span class="fu">any</span>(sf<span class="sc">::</span><span class="fu">st_relate</span>(strat_rand_samp, <span class="at">pattern =</span> <span class="st">"F***1****"</span>,<span class="at">sparse=</span>F)<span class="sc">==</span>T)<span class="sc">==</span>F <span class="sc">&amp;&amp;</span> <span class="fu">nrow</span>(strat_rand_samp)<span class="sc">==</span><span class="dv">21</span>){</span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>    <span class="co">#return(strat_rand_samp)</span></span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">list</span>(<span class="at">strat_rand_samp =</span> strat_rand_samp, <span class="at">grid =</span> grid))</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Simple Random Sample</span></span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span>{</span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>    randsamp <span class="ot">&lt;-</span> <span class="fu">sample.int</span>(<span class="fu">nrow</span>(grid), <span class="at">size =</span> n, <span class="at">replace=</span>F)</span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>    locs <span class="ot">&lt;-</span> grid[randsamp,]</span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>    <span class="co">#sf::st_write(locs,filepath) #write grids to filepath (forthcoming)</span></span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(locs)</span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© 2023 Robert Ritson</div>   
      <div class="nav-footer-center">powered by <a href="https://quarto.org">quarto</a></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/r2j2ritson/RSpatial_Wildlife">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://www.researchgate.net/profile/Robert-Ritson"><i class="ai  ai-researchgate" title="" style="color:"></i></a>
  </li>  
    <li class="nav-item">
    <a class="nav-link" href="https://scholar.google.com/citations?user=NfH3WwcAAAAJ&amp;hl=en"><i class="ai  ai-google-scholar" title="" style="color:"></i></a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>